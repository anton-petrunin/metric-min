\documentclass[a4paper,10pt]{amsart}
\usepackage{metric-min}

\begin{document}
\title{Metric minimzing surfaces revisited}
\author{Anton Petrunin}
\address{A. Petrunin\newline\vskip-4mm
Math. Dept. PSU,
University Park, PA 16802,
USA}
\email{petrunin@math.psu.edu}
\author{Stephan Stadler}
\address{S. Stadler\newline\vskip-4mm
Math. Inst.,
Universit\"at M\"unchen, Theresienstr. 39, D-80333 M\"unchen, Germany}
\email{stadler@math.lmu.de}
%\thanks{A.~Petrunin was partially supported by NSF grant DMS 1309340.}


\date{}

\begin{abstract}
A surface which does not admit a length nonincreasing deformation is called \emph{metric minimizing}.
We show that metric minimizing surfaces in $\CAT[0]$ spaces are $\CAT[0]$.
\end{abstract}
\maketitle

\section{Introduction}

This paper substantially extends results in \cite{petrunin-metric-min}; it also fills a gap in the proof. 

\medskip

We want to thank 
Sergei Ivanov,
Carlo Sinestrari,
Peter Topping
and
Burkhard Wilking
for helping us with the proof of Proposition~\ref{prop:smooth}.

\section{Definitions}\label{sec:Def}

Let $X$ be a set.
A \emph{pseudometric} $|{*}-{*}|$ on a set $X$ 
is a function $X\times X\to[0,\infty]$
such that 
\begin{itemize}
\item $|x-x|=0$, for any $x\in X$;
\item $|x-y|=|y-x|$, for any $x,y\in X$;
\item $|x-y|+|y-z|\ge|x-z|$ for any  $x,y,z\in X$.
\end{itemize}
If in addition $|x-y|=0$ implies $x=y$ then the pseudometric $|{*}-{*}|$ is called \emph{nondegenerated}.
A nondegenerated pseudometric which only takes finite values is called a \emph{metric}. A set with a pseudometric 
or metric will be called \emph{pseudometric} or correspondingly \emph{metric space}.

The value $|x-y|$ will also be called \emph{distance} form $x$ to $y$.
Note that by our definition, the distance between points might be infinite.%

For any pseudometric on a set 
there is an equivalence relation ``$\sim$''
such that $x\sim y$ if and only if $|x-y|=0$.
The induced pseudometric $|{*}-{*}|$ on the set of equivalence classes of $\sim$ is nondegenerated.

Further, for a nondegenerated pseudometric space we can consider the equivalence relation ``$\approx$'' defined as \[x\approx y\  \iff\  |x-y|<\infty.\]
Its equivalence classes are called \emph{metric components}.
Note that by definition each metric component is a \emph{metric space}.
Consequentely, a nondegenerated pseudometric space 
can be thought of as a disjoint union of \emph{metric spaces}.
We will say that the obtained metric spaces are \emph{defined} by the  
original pseudometric space.%???IS IT A GOOD WAY TO SAY??? 

\parbf{Induced  pseudometrics.}
Let $X$ and $Y$ be metric spaces.
Given a continuous map $f\:X\to Y$,
define a \emph{connecting pseudometric} $|{*}-{*}|_f$ on $X$ in
the following way
\[|x-y|_f=\inf\{\diam f(K)\},\]
where the infimum is taken for all connected sets $K\subset X$ which contain $x$ and $y$;
if there is no such set we set $|x-y|_f=\infty$.

The intrinsic metric induced by $|{*}-{*}|_f$ will be denoted as 
$\|{*}-{*}\|_f$. 
That is, 
\[\|x-y\|_f=\liminf_{\eps\to0+}\left\{\sum_{i=1}^n|x_i-x_{i-1}|_f\right\},\]
where the infimum is taken for all arrays of points 
$x=x_0,x_1,\dots,x_n=y$ such that 
$|x_i-x_{i-1}|_f<\eps$ for any $i$.

The metric spaces defined by the pseudometrics $|{*}-{*}|_f$ 
and $\|{*}-{*}\|_f$ on $X$ will be denoted as $|X|_f$ and $\|X\|_f$ correspondingly.

\parbf{Remarks.}
\begin{itemize}
\item If $f$ is injective, and the image $f(X)$ is compact then 
the space $\|X\|_f$ is isometric to the image $f(X)$ in $Y$ equipped with induced intrinsic metric. 
\item Both pseudometrics $|{*}-{*}|_f$ and  $\|{*}-{*}\|_f$
define the same equivalence classes on $X$;
that is,
\[|x-y|_f=0\quad\iff\quad\|x-y\|_f=0.\]
The equivalence class of $x\in X$ will be denoted as $[x]_f$; 
it can be regarded as a point in  $|X|_f$ and in $\|X\|_f$.
\end{itemize}




Given two maps $f,h\:X\to Y$ we will write $f\succcurlyeq h$ if 
\[\|x-y\|_f\ge \|x-y\|_h\]
for any pair of points $x,y\in X$.
We will write $f\succ h$ 
if in addition the inequality is strict for at least one pair of points then.



\parbf{Metric minimizing map.}
Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.

The map $f\:X\to Y$ is called \emph{metric minimizing relative to $A$}
if there is no map $h\:X\to Y$ such that $f\succ h$
and $h$ agrees with $f$ on $A$;
that is, $h|_A=f|_A$.

We say that $f\:X\to Y$ is \emph{strictly metric minimizing relative to $A$}
if there is no map $h\:X\to Y$ distinct from $f$
such that $f\succcurlyeq h$, 
and $h|_A=f|_A$.

\begin{thm}{Proposition}\label{prop:point-complement}
Let $X$ and $Y$ be metric spaces 
and $A\subset X$ be a closed subset.
Assume $X$ is connected and $f\:X\to Y$ is a metric minimizing map relative to $A$.
Then for any point $x\in X$ any connected component of $X\backslash [x]_f$ intersects $A$.

\end{thm}

\parit{Proof.}
Assume contrary.
Denote by $W$ the connected component of $X\backslash [x]_f$ such that $A\cap W=\emptyset$.
Let us define the new map $h\:X\to\ Y$ 
by setting $h(z)=f(x)$ for any $z\in W$
and $h(z)=f(z)$ for any $z\notin W$.

By construction $f$ and $h$ agree on $A$ and $f\succcurlyeq h$.

Note that $\|x-y\|_f>0=\|x-y\|_h$ for any $y\in W$.
Therefore $f\succ h$, a contradiction.
\qeds

The following two propositions follow directly from the definition of metric minimizing maps.

\begin{thm}{Proposition}\label{prop:subset}
Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.
Assume $f\:X\to Y$ is a metric minimizing map relative to $A$.

Given a closed subset $W\subset X$, set 
\[A_W=\partial_X W\cup (A\cap W),\]
where $\partial_X W$ denotes the boundary of $W$ relative to $X$.
Then the restriction $f|_W$ is metric minimizing relative to $A_W$.
\end{thm}

\begin{thm}{Proposition}\label{prop:factor}
Let $X, X'$ and $Y$ be metric spaces, 
$A\subset X$ be a closed subset.
Assume $f\:X\to Y$ is a metric minimizing map relative to $A$
which factors through a continuous surjective map $\phi\:X\to X'$;
that is $f=f'\circ\phi$ for a map $f'\:X'\to Y$.
Then $f'\:X'\to Y$ is metric minimizing relative to $\phi(A)$.
\end{thm}

\section{Metric minimizing graphs}



\begin{thm}{Proposition}
Assume $\Gamma$ is a  finite graph and $A$ is the collection of its vertices.
Let $Y\in\CAT[0]$ and $f\:\Gamma\to Y$ be an arbitrary map.
Then there is a metric minimizing map $f'\:\Gamma\to Y$ relative to $A$ such that
$f'|_A=f|_A$ and 
$f\succcurlyeq f'$.
\end{thm} 

\parit{Proof.} 
Given a map $h\:\Gamma\to Y$, denote its total length by $\length h$.
That is, if $e_1,\dots,e_k$ be the edges of $\Gamma$ 
then each restriction $h|_{e_i}$ is a curve and
\[\length h
\df
\sum\length(h|_{e_i}).\]

Note that there is a sequence of maps $f_n\:\Gamma\to Y$
such that (1)
$f=f_0\succcurlyeq f_1\succcurlyeq\dots$, (2) $f_n|_A=f|_A$ for each $n$ and (3) if for some $h\:\Gamma\to Y$ we have $h|_A=f|_A$ and $f_n\succ h$ for each $n$ then 
\[\length h=\lim_{n\to\infty}\length f_n.\]

Indeed, the sequence $f_n$ can be chosen so that
\[\length f_n-\tfrac1n
<
\inf\set{\length h}{f_{n-1}\succcurlyeq h,\ h|_A=f|_A},\]
where $\length f_n$ denotes the sum of lengths of all edges of $\Gamma$. %???BETTER WORDING??? 
Since $f_n\succ h$ implies $\length f_n>\length h$, 
the conditions above hold.

Fix an ultra-filter $\omega$ on the set of natural numbers.
Let $Y^\omega$ be the ultra-power of $Y$;
recall that $Y$ can be (and will be) considered as a subspace of $Y^\omega$.
Pass to the ultra-limit $f_\omega\:\Gamma\to Y^\omega$ 
of $f_n\:\Gamma\to Y$.
Note that $f_\omega$ is a metric minimizing map.

It remains to show that $f_\omega(\Gamma)\subset Y$.
Assume contrary, then there is a subsequence of $f_n$ which $\omega$-converges to a metric minimizing map, say $v_\omega\:\Gamma\to Y^\omega$ distinct from $f_\omega$.
Denote by $g_\omega(x)$ the midpoint of $[v_\omega(x)f_\omega(x)]$.
Note that $f_\omega\succ g_\omega$ and $g_\omega|_A=f|_A$, a contradiction.
\qeds

\begin{thm}{Proposition}\label{prop:metric-min-graph}
Let $Y$ be a $\CAT[0]$ space, 
$\Gamma$ a finite  graph and $A$ a subset of its vertices.
Assume $f\:\Gamma\to Y$ is metric minimizing relative to $A$.
Then
\begin{itemize}
\item each edge of $\Gamma$ maps to a geodesic
\item for any vertex $v\notin A$ and any $x\ne f(v)$
there is an edge  $[vw]$ in $\Gamma$ such that
$\measuredangle[f(v)^{f(w)}_x]\ge \tfrac\pi2$.
\end{itemize}
Moreover, $f$ is strictly metric minimizing relative to $A$. 
\end{thm}

\begin{wrapfigure}{r}{22 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/not-sufficient(1)}
%\lbl[lb]{12.5,11;$W_0$}}
\end{lpic}
\end{wrapfigure}

As one may see from the diagram,
the two conditions in the proposition do not guarantee that the map $f$ is metric minimizing.

\parit{Proof.}
By Proposition~\ref{prop:subset},
the restriction of $f$ to any edge $[vw]$ of $\Gamma$
is metric minimizing relative to $\{v,w\}$.
Hence the first condition follows.

Assume the second condition does not hold at a vertex $v\notin A$;
that is, there is a point $x\in Y$ such that
$\measuredangle[f(v)^{f(w)}_x]< \tfrac\pi2$
for any adjacent vertex $w$.
In this case moving $f(v)$ toward $x$ along $[f(v)x]$ decrease the lengths of all edges adjacent to $v$, a contradiction.

To prove the last statement, assume there is a map $f'$ distinct from $f$ such that $f|_A=f'|_A$ and $f\succcurlyeq f'$.
Denote by $g(x)$ the midpoint of $f(x)$ and $f'(x)$ for any $x\in \Gamma$. 
By comparison $f\succcurlyeq g$.
It follows that the tautological map $\|\Gamma\|_f\to \|\Gamma\|_g$ is an isometry.
The later implies that the distance $|f(v)-g(v)|$ is the same for all the vertices $v$ in $\Gamma$.
Since we have $|f(v)-g(v)|=0$ for any $v\in A$,
we get $f(v)=g(v)$ for any vertex $v$ in $\Gamma$.
Hence $f=f'$, a contradiction.
\qeds

Assume $\Gamma$ is a finite graph embedded in the plane $\RR^2$;
in particular $\Gamma$ is planar.

The complement to the unbounded connected component of $\RR^2\backslash\Gamma$ will be called filling of $\Gamma$;
it will be denoted as $\Fill\Gamma$.

The vertex of $\Gamma$ will be called \emph{boundary vertex}
if it lies in the boundary $\partial_{\RR^2}[\Fill\Gamma]$,
otherwise it will be called \emph{interior vertex}.

\begin{thm}{Corollary}\label{cor:planar-minimizing-graph}
Let $Y$ be a $\CAT[0]$ space and
$\Gamma$ an embedded graph in $\RR^2$.
Assume $f\:\Gamma\to Y$ is a metric minimizing map relative to the boundary vertices. 
Then 
one can equip $\Fill\Gamma$ with a $\CAT[0]$ pseudometric 
and extend $f$ to a short map $\bar f\:\Fill\Gamma\to Y$ which is length preserving on $\|\Gamma\|_f$.
\end{thm}

\parit{Proof.}
Fix a cycle $\gamma$ in $\Gamma$ which bounds one of the discs in the complement $\RR^2\backslash \Gamma$.
Set $\ell=\length f\circ\gamma$.

By Reshetnyak's majorization theorem, there is a convex polygon $P$ (possibly degenerate) with perimeter $\ell$ which admits 
a short map to $Y$ in such a way that $f\circ\gamma$ is formed by the image of the boundary.
Note that each angle of $P$ is at least as big as 
the angle between the corresponding edges.

Prepare a polygon as above for each disc in the complement of $\Gamma$
and glue these polygons into $|\Gamma|_f$ along the natural map.
The obtained space $D$ is simply connected.
Therefore in order to show that $D$ is $\CAT[0]$,
we need to check that the sum of the angles around each interior vertex in $\Gamma$ is at least $2\cdot\pi$.


Assume contrary, that is, 
the sum of the angles around a fixed interior vertex $v$ is less than $2\cdot\pi$.
The space of directions $\Sigma_{f(v)}$ is a $\CAT[1]$ space.
The directions of the edges from $v$ have a natural
cyclic order say $\xi_1,\dots,\xi_k$
such that
\[\measuredangle(\xi_1,\xi_2)+\dots+\measuredangle(\xi_k,\xi_1)<2\cdot\pi.\]
By Reshetnyak's majorization theorem,
the closed broken line $\xi_1,\dots,\xi_k$ is majorized by a convex spherical polygon $P$.
Note that $P$ lies in an open hemisphere with the pole  at some point in $P$.
Choose $x\in Y$ so that the direction form $f(v)$ to $x$ coincides with the image of the pole in $\Sigma_{f(v)}$.
This choice of $x$ contradicts the condition in Proposition~\ref{prop:metric-min-graph}.\qeds







\section{Metric minimizing discs}



Let us denote by $\DD$ the closed unit disc in the plane,
its boundary $\partial \DD$ is a unit circle.

Let $X$ be a Hausdorff space and
$f\:\DD\to X$ be a continuous map.
We say that $f$ is a \emph{no-bubble map}
if for any point $p\in X$ every connected component of the complement $\DD\backslash f^{-1}\{p\}$ contains a point from $\partial \DD$.

The following topological notion will be important throughout the text.

\begin{thm}{Definition}
A compact simply connected topological space which admits an embedding into the plane is 
called a \emph{disc retract}. 
\end{thm}




We will need the following disc version of Moore's theorem proved in \cite{moore}.

\begin{thm}{Proposition}\label{prop:disc-moore}
Let $X$ be a Hausdorff space and
$f\:\DD\to X$ be a no-bubble map.
Then $|\DD|_f$ is homeomorphic to a disc retract. Moreover, if $f|_{\partial\DD}$ is 
an embedding, then $|\DD|_f$ is homeomorphic to a disc.
\end{thm}


\parit{Proof.}
Note that $|\DD|_f$ is a Hausdorff space
and the forgetful map $h\:\DD\to |\DD|_f$ is continuous.
Since $f$ is continuous and $\DD$ is compact, the space $|\DD|_f$ comes with the quotient topology for $h$. 

Consider the disc $\DD$ as a subset in the sphere $\SS^2$.
For any $x\in \DD$, set 
\[[x]=h^{-1}\{h(x)\}\]
and
if $x\in \SS^2\backslash \DD$, set $[x]=\{x\}$.
Denote by $\SS^2_f$ the set of classes $[x]$ with the quotient topology induced by the map $\iota_f\:x\mapsto [x]$.

Note that for any point $x$, the set $[x]$ is connected and compact, with connected complement.
Therefore $\SS^2_f$ is homeomorphic to $\SS^2$ by Moore's theorem, see \cite{moore}.

It remains to note that $|\DD|_f$ is embedded into $\SS^2_f$ and its complement is homeomorphic to an open disc.
The special case when $f|{\partial\DD}$ is an embedding follows then from the Schoenflies theorem.
\qeds

Given a disc retract $X$,
define its interior as a maximal open set which is homeomorphic to an open set in the plane.
By the Invariance of Domain theorem, the interior is well defined.
The complement to the interior of $X$ will be called boundary and denoted as $\partial X$.

Applying \ref{prop:point-complement} and \ref{prop:disc-moore}, we get the following.

\begin{thm}{Proposition}\label{prop:|D|}
Let $f\:\DD\to\ Y$ be a continuous metric minimizing map relative to $\partial \DD$.
Then $f$ is a no-bubble map.

In particular,  $|\DD|_f$ is homeomorphic to a disc retract. In case $f|_{\partial\DD}$ is an
embedding it is homeomorphic to a disc.
Moreover $\partial|\DD|_f$ is the image of $\partial \DD$
under the map $x\mapsto [x]_f$.
\end{thm}

Note that the metric minimizing map $f\:\DD\to\ Y$ factors through a map \[f'\:|\DD|_f\to Y.\]
By \ref{prop:factor} and \ref{prop:|D|} 
the map $f'$
is metric minimizing relative to $\partial|\DD|_f$.

\section{Key Lemma}


\begin{thm}{Key Lemma}\label{lem:key}
Let $Y$ be a $\CAT[0]$ space and $s\:\DD\to Y$ 
be a metric minimizing disc relative to the boundary $\partial \DD$.
Given a finite set $F\subset \DD$ such that $\|x-y\|_s<\infty$ for each pair $x,y$ of points in $F$. Then
there is 
(1) a $\CAT[0]$ space $W$, which is a disc retract,
and (2) maps $p\:F\to W$ and $q\:W\to Y$ such that
\[s(x)=q\circ p(x)\] 
for any $x\in F\cap \partial \DD$
and 
\[\|p(x)-p(y)\|_q\le \|x-y\|_s\] 
for any $x,y\in F$.
\end{thm}

\parit{Proof.}
Let us connect each pair $x,y$ of points in $F$ by geodesics.

We can assume that 
every pair of the constructed geodesics 
are either disjoint, or their intersection is formed by finite collections of arcs and points.

Indeed, assuming some number of geodesics $\gamma_1,\dots,\gamma_n$ which meets the above property is already chosen and we need to choose one more geodesic connecting $x$ to $y$.
Choose a minimizing geodesic $\gamma_{n+1}$ which maximize the time it spends in $\gamma_1,\dots,\gamma_n$  in the order of importance.
Namely, 
\begin{itemize}
\item  among all minimizing geodesics connecting $x$ to $y$
choose one which spends maximal time in $\gamma_1$ --- in this case $\gamma_{n+1}$ intesects $\gamma_1$ along the empty set, one-point set or a closed arc.
\item among all minimizing geodesics as above
choose one which spends maximal time in $\gamma_2$ --- in this case $\gamma_{n+1}$ intesects $\gamma_2$ along at most two arcs and points.
\item and so on.
\end{itemize}

%IT SHOULD BE POSSIBLE TO ENSURE THAT INTERSECTION OF ANY TWO GEODESIC IS EMPTY OR CONNECTED, BUT I FAILED TO MAKE IT FORMALLY???

In particular the set of all these geodesics forms a finite graph, say $\Gamma$,
embedded in $|\DD|_s$. 

According to Proposition~\ref{prop:|D|},
$|\DD|_s$ admits an embedding into the plane.
Therefore $\Gamma$ can be considered as a graph embedded into the plane.

It remains to apply Corollary~\ref{cor:planar-minimizing-graph}.
\qeds

\section{Compactness of planar CAT[0] spaces}

Let $\mathcal{K}_\ell$ be the set of isometry classes of $\CAT[0]$ metrics on a disc retract with rectifiable
boundary curves of length at most $\ell$.


Here is the main statement in this section.

\begin{thm}{Compactness lemma}\label{lem:compact}
$\mathcal{K}_\ell$ is compact in the Gromov--Hausdorff topology.
\end{thm}

It follows immediately from Lemmas \ref{lem:precompact} and \ref{lem:closed} proven below.

\begin{thm}{Lemma}\label{lem:precompact}
$\mathcal{K}_\ell$ is precompact in the Gromov--Hausdorff topology.
\end{thm}

Further $\area K$ denotes the two-dimensional Hausdorff measure of a metric space $K$. 

\parit{Proof.}
Let $K$ be a metric space with isometry class in $\mathcal {K}_\ell$.
By Reshetnyak's theorem there is a short map from a convex plane figure $F$ with perimeter at most $\ell$ onto $K$.
In particular, $\area K \le \area F 
\le \ell^2$.

Fix $\eps>0$. 
Set $m=\lceil 10\cdot\tfrac\ell\eps\rceil$.
Choose $m$ points $y_1,\dots,y_m$ on $\partial D$
which divide $\partial D$ into arcs of equal length.

Consider the maximal set of points $\{x_1,\dots,x_n\}$ such that $d(x_i,x_j)>\eps$ and $d(x_i,y_j)>\eps$.

Note that the set $\{x_1,\dots,x_n,y_1,\dots,y_m\}$
forms an $\eps$-net in $(\DD,d)$.

Further note that the balls $B_i=B_{\eps/2}(x_i)$
do not overlap.
By comparison,
\[\area B_i\ge \tfrac{\pi\cdot\eps^2}{4}.\]

It follows that $n\le 2\cdot\left(\tfrac\ell\eps\right)^2$.
That is, there is a function $N(\eps)$,
which returns a positive integer for any $\eps>0$
such that for any 
$(\DD,d)$ contains an $\eps$-net
with at most $N(\eps)$ points.

In other words, $\mathcal{K}_\ell$ is uniformly totally bounded.
Any class of metrics with such property is precompact in Gromov--Hausdorff topology; 
see for example \cite[7.4.15]{BBI}.
\qeds





\begin{thm}{Lemma}\label{lem:closed}
$\mathcal{K}_\ell$ is closed in the Gromov--Hausdorff topology.
\end{thm}

\parit{Proof.}
For each $n$, consider a boundary curve $\gamma_n\:\SS^1\to X_n$
which is composition of the boundary curve in the disc with 
strong deformational retract $\DD\to X_n$.

Let $f_n\:F_n\to X_n$ be the majorizor of $\gamma_n$;
that is, $F_n$ is a convex figure in the plane,
$f_n$ is a short map which is length preserving on the boundary and $\gamma_n$ forms the boundary curve.

In addition we can assume that for each $n$ the map $f_n$ is minimal in the following sense: if $f_n'\:F_n\to X_n$ is an other majorization then inequality 
\[|f_n'(x)-f_n'(y)|_{X_n}> |f_n(x)-f_n(y)|_{X_n}\eqlbl{eq:f'>f}\]
holds for at least one pair of points $x,y\in F_n$.
In this case  we have
\[\diam [f_n(\Omega)]=\diam [f_n(\partial\Omega)]\eqlbl{eq:in-the-bry}\]
for any open set $\Omega\subset F_n$.
Indeed if this is not the case for some $\Omega$, one can redefine the map $f_n$ so that any $x\in\Omega$ maps to the closest-point projection to $\Conv[\partial\Omega]$.
For obtained map $f'_n$ violates \ref{eq:f'>f}.


Consider the limit figure $F_\infty$ and the limit map $f_\infty\:F_\infty\to X_\infty$.
Note that $f_\infty$ is onto and 
\[\diam [f_\infty(\Omega)]=\diam [f_\infty(\partial\Omega)]
\eqlbl{eq:in-the-bry}\]
for any open set $\Omega\subset F_\infty$.
In particular $f_\infty$ has no bubbles.

It remains to apply Proposition~\ref{prop:disc-moore}
\qeds


\section{Two-dimensional case}

Let $W$ be a metric space.
A continuous map $s\:\DD\to W$ is called \emph{saddle} if for any closed convex subset $K\subset W$ holds that
the boundary $\partial \DD$ intersects
any connected component of $\DD\backslash s^{-1}(K)$.

Applying this definition to one-point sets,
we get that any saddle map has no bubbles.


\begin{thm}{Proposition}
Let $W$ be a $\CAT[0]$ space then any continuous metric minimizing map $s\:\DD\to W$ is saddle.
\end{thm}

\parit{Proof.}
Assume contrary, let $K$ be a convex set in $W$
and $\Omega$ be a violating component of the complement $\DD\backslash s^{-1}(K)$.
Redefine $s$ for each $x\in\Omega$ by moving 
$s(x)$ to its closest point projection on $K$.
Denote by $s'$ the new map.

Since $K$ is convex the closest point projection is short,
therefore $s\succcurlyeq s'$.
That is $s$ is not strictly metric minimizing.
It remains to apply Proposition~\ref{prop:strict-mm}.
\qeds

 






\begin{thm}{Shefel's theorem}\label{thm:shefel-2D}
Let $W$ be a $\CAT[0]$ space which is a disc retract.
Assume $s\:\DD\to W$ is a saddle map. 
Then $\|\DD\|_s$ is $\CAT[0]$.
\end{thm}

The statement above is a slight generalization of theorem proved by Shefel in \cite{shefel-2D};
originally it was proved if the ambient space is the plane and we need it for a disc retract.
The proof below roughly the same as the original.
However, Shefel's proof was written very tight
and we have decided to provide all details.


Note that since $W$ is a disc retract, its boundary $\partial W$ is compact. Therefore
the space $\Geod(W)$ of geodesic segments with endpoints on $\partial W$ is compact as well.

\begin{thm}{Lemma}\label{lem:extension}
Let $W$ be a $\CAT[0]$  disc retract. Then any geodesic segment can be extended to a geodesic in $\Geod(W)$.
\end{thm}

\parit{Proof.}
It is enough to show that a geodesic segment $[pq]$ extends beyond $q$ if $q$ is an interior point of $W$.
Choose a neighborhood $A$ of $q$ which is homeomorphic to a closed disc and such that the boundary $\partial A$
intersects $[pq]$ in a point $z\neq q$. Then the geodesic cone from $z$ over $\partial A$ covers $A$ because $\partial A$
is not contractible in $W-\{x\}$ for any $x$ in the interior of $A$. In particular, $[pq]$ extends beyond $q$ to the boundary of
$A$.
\qeds

\begin{thm}{Lemma}\label{lem:sepbygeo}
Let $W$ be a $\CAT[0]$  disc retract. If $K\subset W$ is a closed convex subset and $p$ is a
point in $W\backslash K$, then there is a (possibly degenerated) geodesic $\sigma\in\Geod(W)$ which separates $p$ and $K$;
that is, $K$ and $p$ lie in the different connected components of $W\backslash \sigma$.

Moreover one can assume that $\sigma$ lies in the given countable dense subset $\mathcal{G}$
of $\Geod(W)$.
\end{thm}

This lemma analogous to the following statement in the plane geometry: \emph{any closed convex set in the plane is an intersection of open half planes}.
A Euclidean proof admits a straightforward generalization to the $\CAT[0]$ disc retracts.

\begin{wrapfigure}{r}{34 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/K-p(1)}
\lbl[]{5,10;$W$}
\lbl[]{14,12;$K$}
\lbl[tl]{28,14;$p$}
\lbl[tr]{26,7;$x$}
\lbl[br]{22.5,13;$y$}
\lbl[tl]{18.5,10.5;$q$}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
Let $q$ be the nearest point projection of $p$ onto $K$.

Assume there is point $x\not\in [pq]$ which lies sufficiently close to the midpoint of $[pq]$.
Then the nearest point projection $y$ of $x$ onto $[pq]$ lies in the interior of $[pq]$.
Extend the geodesic $[xy]$ to a geodesic $\sigma$ in $\Geod(W)$.
Note that $\sigma$ separates $K$ from $p$.

If there is no point $x\not\in [pq]$ which lies sufficiently close to the midpoint of $[pq]$
then the midpoint $m$ of $[pq]$ separates $K$ from $p$.
This point forms a degenerate geodesic from $\Geod W$.


If $\sigma$ is not degenerate then any geodesic from $\mathcal{G}$ which is sufficiently close $\sigma$ also separates $K$ from $p$.
In the degenerate case all the, 
the point $m$ separates $K$ from $p$ 
and the same holds for any geodesic from $\Geod(W)$ sufficiently close to $m$ which goes from one of connected component of $W\backslash\{m\}$ to an other one.
The latter  set is open in $\Geod(W)$.
Hence the result follows.
\qeds




\begin{thm}{Cutting hat lemma}\label{lem:cutting-hat}
Let 
$W$ be a $\CAT[0]$ space, 
$K\subset W$ be a closed convex set 
and $\eps>0$.
Assume $s\:\DD\to W$ is a saddle map 
and $u\:\DD\to W$ is a continuous map such that 
\[|s(x)-u(x)|<\eps\]
and $u(x)\in K$ for any point in the boundary of some open set $\Omega\subset \DD$.

Then there is a continuous map $v\:\DD\to K$ such that 
\begin{enumerate}[(i)]
\item $|s(x)-v(x)|<\eps$ holds for any $x\in\DD$.
\item $u(x)=v(x)$ for any $x\notin\Omega$ and
$v(x)\in K$ for any $x\in\Omega$.
\end{enumerate}

\medskip

Moreover,
\begin{enumerate}[(i)]
\addtocounter{enumi}{2}
\item we can assume that \[v(\Omega)\subset \Conv u(\partial\Omega),\]
where $\Conv S$ denotes the minimal closed convex set containing $S$.
\item\label{lem:cutting-hat:b} if $u$ has no bubbles, we can assume that the constructed map $v$ has no bubbles.
\end{enumerate}
\end{thm}

\parit{Proof.}
Let $\pi\:W\to K$ denote the closest point projection of $W$ onto $K$. Note that $\pi$
is a short map. Choose an open neighborhood $U$ of $\partial \Omega$ such that 
$|s(x)-\pi\circ u(x)|<\eps$ for $x\in U$. The assumptions imply that $s(\Omega)$ is 
contained in the $\eps$-neighborhood of $K$;
that is, $|s(x)-\pi\circ s(x)|<\eps$ for $x\in\Omega$.
It follows that for points in $U$ the geodesic segment $[\pi\circ s(x)\pi\circ u(x)]$ is contained in the $\eps$-ball
around $s(x)$. Fix a continuous function $\lambda\:\Omega\to [0,1]$
which is equal to $1$ on $\partial \Omega$ and has support in $U$.
For $x\notin \Omega$ set $v(x)=u(x)$ and if 
$x\in \Omega$, set $v(x)$ to be the point which divides the geodesic $[\pi\circ s(x)\pi\circ u(x)]$
at proportion $\lambda(x)$. By construction $v$ satisfies both conditions.

Finally note that $\Conv u(\partial\Omega)\subset K$. 
Therefore we obtain statement (a) 
by applying the lemma for the convex set $K'=\Conv u(\partial\Omega)$.

To prove (\ref{lem:cutting-hat:b}), we need to remove bubbles form the constructed map $v$.
Namely for any $x$ we can choose a maximal open set $\Upsilon_x$ such that for some point $p\in W$ the complement $\DD\backslash v^{-1}\{p\}$ has $\Upsilon_x$ as a
connected component with no points from $\partial \DD$.
Redefine $v$ by setting $v(x)=p$.
\qeds

\begin{thm}{Lemma}\label{lem:isomtri}
Let $W$ be a $\CAT[0]$ disc retract. 
Let $\Delta$ be a triangle in the euclidean plane
and $\Delta'$ a triangle in $W$. 
If $f\:\Delta\to \Delta'$ is a map which restricts to constant speed
parametrizations on each side, then it extends to a map 
$F\:\Conv(\Delta)\to \Conv(\Delta')$ between convex hulls which induces an isometry $\bar F\:\|\Conv(\Delta)\|_F\to \Conv(\Delta')$. 
\end{thm}

\parit{Proof.}
There are obvious cases, namely if $\Delta'$ is either embedded or contained in a single geodesic. 
For the general case we observe that if we cut $\Delta$ into two triangles $\Delta^\pm$ by a geodesic which joins a vertex to its opposite side, and if 
the claim is true for both triangles $\Delta^+$ and $\Delta^-$, then it is also true for $\Delta$. Now let us assume that $\Delta'$ is neither embedded nor contained
in a single geodesic. Then there is a vertex of $\Delta'$ such that the two adjacent sides have a closed nontrivial interval in common. Choose a point $p$ in the interior
of a side of $\Delta$ which maps to an endpoint of this interval. Cut $\Delta$ into two triangles $\Delta^\pm$ by joining $p$ to its opposite vertex.
We obtain natural maps $f^\pm:\Delta^\pm\to\Delta'$ where one of them say $f^+$ is degenerated, in the sense that its image is contained in a side of $\Delta'$, and $f^-$ has 
a nondegenerated vertex, in the sense that the image of adjacent sides only intersect in the image of the vertex. Repeating this modification at most twice,
reduces the general case to the above obvious ones.
\qeds

\begin{thm}{Lemma}\label{lem:puzzle-compact}
Let $W$ be a $\CAT[0]$ disc retract 
and $N$ is a positive integer. 
Consider the class of metric spaces $\mathcal{S}_N$ 
which are homeomorphic to a disc retract
and can be covered by at most $N$ isometric copies of closed convex subsets of $W$.
Then $\mathcal{S}_N$ is compact in Gromov--Hausdorff topology.
\end{thm}

\parit{Proof.}
$\mathcal{S}_N$ is precompact by \cite[7.4.15]{BBI}. So let $Z$ be a limit space. Clearly, $Z$
is covered by at most $N$ convex subsets of 
$W$ and by Lemma \ref{lem:closed} it is homeomorphic to a disc retract.
\qeds

\begin{thm}{Lemma}\label{lem:proj-continuous}
Let $X$ be a metric space and $u\:\DD\to X$ a continuous map. Denote by $\pi\:\DD\to \|\DD\|_u$ the natrual projection and
by $\bar u\:\|\DD\|_u\to X$ the induced map. Assume that $\DD$ has a decomposition $\DD=\bigcup_{n=1}^N C_n$ into a finite 
number of sets such that $\bar u$ embeds each $\pi(C_n)$ isometrically as a closed subset into $X$. Then $\pi$
is continuous.
\end{thm}

\parit{Proof.}
Let $x_k\to x$ be a converging sequence in $\DD$. After passing to a subsequence we may assume that all $x_k$
are contained in a single set $C_n$. By assumptions $u(x_k)\to u(x)\in u(C_n)=\bar u\circ \pi (C_n)$. 
Since $\bar u$ restricts to an isometry on $\pi(C_n)$, the claim follows.
\qeds

\parit{Proof of Shefel's theorem \ref{thm:shefel-2D}.}
Fix a fine triangulation $\tau$ of $\DD$.
Map the vertices of $\tau$ by $s$,
and extend it to the 1-skeleton by mapping edges with constant speed to 
corresponding geodesics. Then use Lemma \ref{lem:isomtri} to extend the map to the whole disc.

The obtained map $u\:\DD\to W$ can be made arbitrary close to $s$ assuming that the triangulation is fine.
Say given $\eps>0$ we can assume that 
\[|s(x)-u(x)|_X<\eps\eqlbl{eq:|s-u|<e}\]
for any $x\in\DD$.

Note that the image of each solid triangle $\triangle$
is the closed region bounded by the geodesic triangle in $W$ with the corresponding vertices.
Moreover,  $\|\triangle\|_u$ is isometric to the image $u(\triangle)$ by Lemma \ref{lem:isomtri}.
Denote by $N$ the number of triangles in $\tau$. Then, $\|\DD\|_u$ decomposes into $N$ convex sets which are mapped isometrically by the induced map
$\bar u$, in particular, $\|\DD\|_u$ belongs to $\mathcal{S}_N$.  

Recall that the space $\Geod(W)$ of all geodesics in $W$ with endpoints on $\partial W$ is compact. 
Fix a dense sequence of geodesics $\mathcal{G}=\{\gamma_1,\gamma_2,\ldots\}$ in $\Geod(W)$.
The geodesics form convex sets in $W$, so we can apply the Cutting hat lemma \ref{lem:cutting-hat}
recursively.
We obtain a sequence of maps, say $u=u_0,u_1,u_2,\ldots$ such that 
\[|u_n(x)-s(x)|<\eps\]
for any $x$.




Furthermore, each space $\|\DD\|_{u_n}$
belongs to $\mathcal{S}_N$ and has a decomposition into at most $N$ convex sets which are mapped isometrically by 
the induced map 
\[\bar u_n\:\|\DD\|_{u_n}\to W.\] 
There is a more precise description, namely each of the convex sets is 
obtained from one of the triangles in $\tau$ by applying cuts along the geodesics $\gamma_k$. In particular, the decompositions
are nested.

Since $\mathcal{S}_N$ is compact, we can pass to a partial limit of $\|\DD\|_{u_n}$ as $n\to\infty$,
say $Q_\eps$.
Denote by $w_\eps\:Q_\eps\to W$ the limit of the short maps $\bar u_n$.

\begin{thm}{Sublemma}
 The map $w_\eps$ is saddle.
\end{thm}

\parit{Proof.}
Assume that $w_\eps$ is not saddle. Then there is a geodesic $\gamma\in\Geod(W)$ such that $\DD-w_\eps^{-1}(\gamma)$
has a component $U$ which is disjoint from $\partial \DD$. Choose a point $p$ in $U$. By Lemma \ref{lem:sepbygeo}, there is  
a geodesic $\gamma'\in\Geod(W)$ which separates $w_\eps(p)$ and $\gamma$.
Then there exists a disc $D$ in $U$ such that
$w_\eps(\partial D)$ and $w_\eps(p)$ lie in different components of $W-\gamma'$. Choose $\delta>0$ 
such that the distance from $\gamma'$ of $w_\eps(\partial D)$ and $w_\eps(p)$ is larger than $\delta$.
Then there is a natural number $M$ such that the distance from $\gamma'$ of $\bar u_n(\partial D_n)$ and $\bar u_n(p_n)$ is larger than $\frac{\delta}{2}$
where $D_n$ and $p_n$ are lifts of $D$ respectively $p$.
By density of $\mathcal{G}$, there is a geodesic $\gamma_k\in \mathcal{G}$ with $k>M$ which has distance less than $\frac{\delta}{2}$ from $\gamma'$. 
Hence $\bar u_k^{-1}(\gamma')$ separates $p_k$ from the boundary. By Lemma \ref{lem:proj-continuous}, the projection $\pi_k\:\DD\to \|\DD\|_{u_k}$ is continuous
and therefore $u_k^{-1}(\gamma')$ separates some lift $\hat p_k$ of $p_k$ from the boundary.
This is a contradiction because, by construction, $\gamma_k$ cannot cut a hat from $u_k$.
\qeds

\begin{thm}{Sublemma}
The space $Q_\eps$ is $\CAT[0]$. 
\end{thm}

\parit{Proof.}
It is enough to show that any point in the interior of $Q_\eps$ has a $\CAT[0]$ neighborhood.
We first show that the total angle around any such point, say $z\in Q_\eps$ is at least $2\cdot\pi$.
Since the decompositions of $\|\DD\|_{u_n}$ into convex subset of $W$ are nested for varying $n$, they
induce such unique such limit decomposition of $Q_\eps$. Moreover, $w_\eps$ restricts to an isometry on each 
of the convex sets occuring in this decomposition. Therefore, $w_\eps$ is a local radial isometry.
If the total angle at $z$ is too small, then $w_\eps(z)\notin\Conv [w_\eps (\partial\Omega)]$
for a small neighborhood $\Omega\ni w$ in $Q_\eps$. By Lemma \ref{lem:sepbygeo} we could cut a hat from $w_\eps$
contradicting that $w_\eps$ is saddle.
To conclude that $z$ has a $\CAT[0]$ neighborhood, we first cut a small ball around $z$ into to halves using a geodesic through $z$.
Next observe that for a small enough radius we can cut each of this halves into sectors which are contained in a single convex set
from our decomposition. The claim follows from Reshetnyak's gluing theorem.
\qeds


Now, assume that the boundary of $\|\DD\|_s$ is rectifiable.
By the Lemma on compactness~\ref{lem:compact},
we can pass to a partial limit, say $Q_0$, of $Q_\eps$ as $\eps\to 0$ and denote $w_0\:Q_0\to W$ the limit map.
By construction, $Q_0$ is a $\CAT[0]$ disc retract which majorizes $\|\DD\|_s$,
that is the limit map lifts to a short map $Q_0\to \|\DD\|_s$ which maps $\partial Q_0$ onto  $\partial \|\DD\|_s$ in a length-preserving way.

Since $Q_0$ is a $\CAT[0]$ space, its boundary can be majorized by a convex figure in the plane.
Hence the same holds for $\|\DD\|_s$.

The same argument can be repeated for all disc retracts in $\|\DD\|_s$ with rectifiable boundary, in particular for all solid triangles in $\|\DD\|_s$.
Existence of majorization implies that all triangles in $\|\DD\|_s$ are thin, that is $\|\DD\|_s$ is $\CAT[0]$.
\qeds

\section{Main theorem}

\begin{thm}{Main Theorem}\label{thm:main}
Let $Y$ be a $\CAT[0]$ space 
and $s\:\DD\to Y$ be a metric minimizing map relative to the boundary $\partial\DD$.
Assume $\|\DD\|_s$  is separable. 
Then each metric component of $\|\DD\|_s$ is a $\CAT[0]$ space. 
\end{thm}

\parit{Proof of Main theorem.}
First let us show that each metric component of $\|\DD\|_s$ is geodesic.

Indeed, given two points $p$ and $q$ in $|\DD|_s$ 
choose a sequence of constant-speed paths $\gamma_n$ from $p$ to $q$
such that 
\[\length\gamma_n\to \|p-q\|_s\]
as $n\to\infty$.

Note that $\gamma_n$ are Lipschitz maps in $|\DD|_s$.
Since $|\DD|_s$ is compact, we can pass to a partial limit $\gamma$ of $\gamma_n$.
Clearly \[\length\gamma= \|p-q\|_s;\]
that is $\gamma$ forms a geodesic in $\|\DD\|_s$


To prove the first statement it is sufficient to consider
the case that $\partial \|\DD\|_s$ formed by a rectifiable simple closed curve.

Indeed, fix a triangle $\triangle$ in $\|\DD\|_s$. 
If the above case has been proven, 
then closure of each connected open component bounded by $\triangle$ is $\CAT[0]$.
In particular $\triangle$ is thin.
Since $\triangle$ is arbitrary, the statement follows.
In addition we can also assume that $\|\DD\|_s$ is a metric space. Otherwise we treat each metric component 
individually.

Given a finite set $F\subset \DD$,
denote by $\mathcal{W}_F$
the set of isometry classes of spaces $W$ which meet the conditions of the Key Lemma~\ref{lem:key}
for $F$;
according to Lemma~\ref{lem:key} $\mathcal{W}_F\ne\emptyset$.
Note that for two finite sets $F\subset F'$ in $\DD$,
we have $\mathcal{W}_F\supset \mathcal{W}_{F'}$.

According to the Lemma on compactness (\ref{lem:compact}) $\mathcal{W}_F$ is compact.
Therefore 
\[\mathcal{W}
=
\bigcap_{F}\mathcal{W}_F\ne \emptyset\]
where the intersection is taken over all finite subsets $F$ in $\DD$. 
%ALL? OR NESTED SEQUENCE EXHAUSTING A DENSE SET  --- I think it is true forl all???

Fix a space $W$ from $\mathcal{W}$
and a dense sequence of points $\mathcal{F}=\{x_1,x_2,\dots\}$ in $\|\DD\|_s$, 
such that its subsequence of points in $\partial \|\DD\|_s$
 also dense in $\partial \|\DD\|_s$.

Set $F_n=\{x_1,\dots,x_n\}$.
Denote by $p_n\:F_n\to W$ a map satisfying the conditions in the Key Lemma~\ref{lem:key}.

Using a diagonal argument we can extract a short map \[p:\mathcal{F}\to W.\]

Since $\mathcal{F}$ is dense in $\|\DD\|_s$,
the map $p$ can be extended to whole disc $\|\DD\|_s$ 
as a short map.
The obtained map will be still denoted as $p$.

Pass to an ultralimit $\mathfrak{q}$ of the maps $q_n$ provided by Key Lemma~\ref{lem:key}. The target of $\mathfrak{q}$ is an ultrapower  $\mathfrak{Y}$ of $Y$,
which is a $\CAT[0]$ space containing $Y$ as a convex subspace.
The closest point projection of $\mathfrak{q}$ to $Y$ will be denoted by $q$.
By construction, 
$\mathfrak{q}$ is short 
and closest point projection is short,
therefore $q$ is also short.


Summarizing, the space $W$ is $\CAT[0]$ disc retract.
By construction, there are two short maps 
$\|\DD\|_s\xrightarrow{p} W \xrightarrow{q} Y$
such that 
\[q\circ p|_{\partial\DD}=s|_{\partial\DD}.\] 
Since $s$ is metric minimizing, both maps $p$ and $q$ are length preserving and metric minimizing.

It remains to apply Shefel's theorem \ref{thm:shefel-2D}.


\qeds



\parbf{Remark.} An argument similar to the the problem ``Saddle surface'' in \cite{petrunin-orthodox}
can be used to show that the constructed map $p$ 
is injective. 
In particular $\|\DD\|_s$ is isometric to $W$.
Unfortunately the proof requres some regularity of $\|\DD\|_s$ which only follows from Shefel's theorem. 

Here is \emph{not a proof} of the statement above.
We cheat in the use of order; 
it is hard (if at all possible) to fix its precise meaning.

\parit{Not a proof.} Assume  $w=p(x)=p(y)$ for distinct points $x,y\in\|\DD\|_s$
Note that  $w$ lies in the interior of $W$.
Choose a geodesic $\gamma$ which pass through $w$ and goes 
from boundary to boundary of $W$.
The inverse image $p^{-1}(\gamma)$ is a contractabe set with two ends at $\partial\|\DD\|_s$, say $a$ and $b$.
In particular the there is well defined order of  points on $p^{-1}(\gamma)$.
We can assume that the points $a,x,y,b$ appear in the same order on $p^{-1}(\gamma)$. 

Note that there is a continuous one parameter family of geodesics $\gamma_t$ passing through $w$ with the ends at $\partial W$
such that $\gamma=\gamma_0$ and $\gamma_1$ is $\gamma$ with reversed parametrization.
Note that the order of $x$ and $y$ on $p^{-1}(\gamma_t)$ does not change in $t$.
On the other hand the order on $\gamma_0$ and on $\gamma_1$ are opposite, a contradiction.\qeds 

\begin{thm}{Corollary}\label{thm:dirichlet}
Let $Y$ be a $\CAT[0]$ space 
and $s\:\DD\to Y$ be a continuous metric minimizing map relative to the boundary $\partial\DD$ such that $s|_{\partial\DD}$ is rectifiable.
Suppose that $\|\DD\|_s$  is separable. Then $\|\DD\|_s$ is a $\CAT[0]$ disc retract. If moreover  $s|_{\partial\DD}$ is an embedding,
then $\|\DD\|_s$ is a $\CAT[0]$ disc.
\end{thm}

\parit{Proof.}
By Proposition \ref{prop:|D|} $|\DD|_s$ is a disc retract in the general case, and a disc if $s|_{\partial\DD}$ is an embedding.
The identity map $\iota:\|\DD\|_s\to |\DD|_s$ is continuous. Pick a point $p\in\partial\|\DD\|_s$ and consider the geodesic 
cone $C$ from $p$ over $\partial\|\DD\|_s$. Then $\iota|_C$ is surjective because otherwise there would be a point $q$ in the 
interior of $|\DD|_s$ such that $C$ defines a contraction of $\partial|\DD|_s$ in $|\DD|_s-\{q\}$. In particular $C=\|\DD\|_s$.
Since $C$ is the continuous image of a disc, we get that $\|\DD\|_s$ is compact and that $\iota$ is a homeomorphism.
\qeds





\section{Harmonic maps}

%???MAYBE WE SHOULD say harmonic insted of energy minimizing

In this section we show that harmonic maps from discs to $\CAT[0]$ spaces are metric minimizing, see Proposition~\ref{prop:harmonic}.

For definitions and properties of Sobolev maps we refer the reader to \cite{LW} and \cite{LW2}. For convenience we will call
an energy minimizing map a {\em harmonic map}.


Apart from boundary regularity the following theorem was proved by Korevaar and Schoen in \cite{KS}, it generalizes earlier results by Hamilton on Riemannian manifolds of non-positive
curvature \cite{H}. The boundary regularity in this from is due to Lytchak and Wenger \cite{LW4}.

\begin{thm}{Dirichlet problem}\label{thm:dirichlet}
Let $\gamma$ be a continuous circle in a $\CAT[0]$ space $X$. 
Then there is a unique energy minimizing disc $u$ which spans $\gamma$; 
that is, $u$
has the least energy among all discs spanning $\gamma$. 
The energy minimizer $u$ is locally Lipschitz continuous in the interior of $\DD$ and continuous on all of $\DD$.

Moreover, the local Lipschitz constant of $u$ depends only on the energy of $u$ and the distance to the boundary.
\end{thm}

For a Sobolev map $u$ from the disc $\DD$ to the Euclidean space, its energy is defined as 
\[E(u)=\int\limits_\DD|du|^2\cdot d\area.\]
In \cite{KS}, an appropriate generalization of energy for maps with target in general metric spaces is defined.
We will call this generalization {\em Korevaar-Schoen energy} and denote it by $E$. It is used throughout this section. 
A thorough treatment of general energies and their associated Sobolev
spaces can be found in \cite{LW2}.

\begin{thm}{Proposition}\label{prop:harmonic}
Let $X$ be a proper $\CAT[0]$ space 
and $u\:\DD\to X$ an energy minimizing disc with fixed rectifiable boundary curve $u|_{\partial\DD}$.
Then $u$ is metric minimizing relative $\partial\DD$.
\end{thm}


\parit{Proof.}
The map $u$ factorizes as $u=\bar u\circ\pi_u$ with $\pi_u:\DD\to\|\DD\|_u$ and $\bar u: \|\DD\|_u\to X$.
By definition $\bar u$ is length preserving and hence short, and we claim that $\pi_u$ is continuous.
This is clear for points in the interior of $\DD$ since $u$ is locally Lipschitz continuous there. So let 
$z$ be a point in the boundary $\partial\DD$. Since $u|_\partial\DD$ is rectifiable the Courant-Lebesgue lemma (Lemma 7.3 in \cite{LW})
implies that for every $\epsilon>0$ we can find a Jordan curve $J\subset\DD$ containing $z$ which is mapped into a set of diameter less than
$\epsilon$ by every element in $\mathcal{F}(u)$. The equicontinuity now follows from the saddle property.

\begin{thm}{Sublemma}
$\mathcal{F}(u)$ is sequentially compact with respect to uniform convergence. 
\end{thm}
\parit{Proof.}
Let $(f_n)$ be a sequence in $\mathcal{F}(u)$ and choose a nonprincipal ultrafilter $\omega$ on 
$N$. Then $\omega\lim f_n:\DD_\omega\to X_\omega$ is well defined, since $\mathcal{F}(u)$ is equicontinuous.
Since $\DD_\omega\cong \DD$, we obtain the desired limit map by composing $\omega\lim f_n$ with the closest point projection
$X_\omega\to X$.
\qeds

It follows that $\mathcal{F}(u)$ has a minimal element $s$. ???????????????????????????









Since $u$ is continuous, it has finite Korevaar-Schoen energy iff
there is a Borel function $\rho\in L^2(\DD)$ such that for 2-almost all curves $\gamma:I\to \DD$
$$
length(u\circ \gamma)\leq\int_\gamma \rho.\footnote{See section 3.2 in \cite{LW3}.}
$$
Since $s$ is metric minimizing it has finite Korevaar-Schoen energy as well. From Lemma 3.1 in \cite{LW3} we have for 2-alomst all rectifiable
curves $\gamma:I\to \DD$
$$
length(s\circ \gamma)=\int_I |ds_{\gamma(t)}(\dot\gamma(t))|dt\leq \int_I |du_{\gamma(t)}(\dot\gamma(t))|dt=length(u\circ \gamma).
$$
From the Lebesgue Differentiation theorem we obtain $ds\leq du$ almost everywhere. Since $E$ is monotonic in the metric differentials, it follows that 
$E(s)=E(u)$, that is $s$ is also energy minimizing.
By uniqueness in Theorem \ref{thm:dirichlet} we get $u=s$.
 \qeds
 
\begin{thm}{Remark}
This proposition generalizes to other energy functionals besides the one form Korevaar and Schoen. ??????????????
\end{thm}

 
\begin{thm}{Corollary}
Let $X$ be a $\CAT[0]$ space 
and $u\:\DD\to X$ an energy minimizing disc which spans a rectifiable boundary curve.
Then $\|\DD\|_u$ is a $\CAT[0]$ disc retract and a $\CAT[0]$ disc if the boundary is embedded.
\end{thm}











\section{Existence and uniqueness}




\subsection{Intrinsic metric determines metric minimizing discs}~

\medskip
Let $\gamma_{\pm 1}\:I\to X$ be two rectifiable paths, parametrized by arc length. We say that  $\gamma_{-1}$ is {\em parallel} to $\gamma_{+1}$, if $|\gamma_{-1}(t)-\gamma_{+1}(t)|$
is constant on $I$.


\begin{thm}{Lemma}\label{lem:parpaths}
Let $\gamma_{\pm 1}\:I\to X$ be two rectifiable paths of equal length $L>0$. Set $\gamma_t:=h(\cdot,t)$ where $h\:[-1,1]\times[0,L]\to X$ denotes the geodesic homotopy
between their arclength parametrizations. If $\gamma_0$ has length $L$, then $\gamma_{-1}$ and $\gamma_{+1}$ are parallel. 
\end{thm}
\parit{Proof.}
Convexity of the metric implies $|\dot\gamma_0(t)|\leq 1$. By assumtion, the length of $\gamma_0$ equals $L$, hence $|\dot\gamma_0(t)|=1$ for almost all $t\in[0,L]$. So $\gamma_0$
is parametrized by arc length. Since the energy of a unit speed path equals its length, we conclude from energy convexity 
$$
\int\limits_0^L|\nabla |\gamma_{-1}-\gamma_{+1}||^2 d\mathcal{H}^1
=
0.
$$
Therefore, $\gamma_{-1}$ is parallel to $\gamma_{+1}$.
\qeds

\begin{thm}{Remark}
It is possible to show that in the above situation $h([-1,1]\times[0,L])$ is intrinsically flat.
\end{thm}

\begin{thm}{Uniqueness Theorem}\label{prop:strict-mm}
Let $X$ be a $\CAT[0]$ space and $s_0, s_1\:\DD\to X$ be metric minimizing relative to $\partial\DD$. Assume that 
$s_0|_{\partial \DD}$ is rectifiable and equal to $s_1|_{\partial \DD}$. If 
$\|\DD\|_{s_0}$ is isometric to $\|\DD\|_{s_1}$, then $s_0=s_1$ on the metric component of $\partial\DD$.
\end{thm}

\parit{Proof.}
For $t\in[0,1]$ denote $s_t\:\DD\to X$ the map obtained by geodesic interpolation. Then
$\|\DD\|_{s_t}$ is isometric to $\|\DD\|_{s_0}$ for all $t\in[0,1]$. In particular, every $s_t$ is metric minimizing.
Let $\gamma$ be a path in $\DD$ connecting two boundary points and such that $s_0\circ\gamma$ is rectifiable.
Moreover, assume that $s_0\circ\gamma$ is parametrized by arc length. 
Then each 
$s_t\circ\gamma$ is parametrized by arclength and from Lemma \ref{lem:parpaths} we obtain $s_t\circ\gamma\equiv s_0\circ\gamma$.
The claim follows.
\qeds



%MAYBE IT WILL BE A COR OR PART OF AN OTHER STATEMENT, BUT WE NEED IT???
\begin{thm}{Corollary}\label{prop:strict-mm}
Let  $X$ be a $\CAT[0]$ space and $s\:\DD\to X$ be metric minimizing relative to $\partial\DD$. 
If $\|\DD\|_s$ is a metric space, then $s$ is strictly metric minimizing.
\end{thm}



\subsection{Metric minimizing discs below given continuous ones}~


Let $f\:X\to Y$ be a map between metric spaces and $A$ a subset of $X$. Using Zorn's Lemma it is alway possible to find 
a metric minimizing map $s$ relative to $A$ with $f\succcurlyeq s$. In this subsection we give a criterion which allows to 
find continuous such maps.

\begin{thm}{Definition}(Intrinsic continuity)
A map $f\:Y\to Z$ from a metric space $Y$ to a metric space
 $Z$ is called
{\em intrinsically continuous}, if for every $y\in Y$ 
and every $\eps>0$ there
exists $\delta>0$ such that any  $y'\in Y$
with $|y,y'|<\delta$ can be connected to $y$ by a path $\gamma$ 
with $\operatorname{length}(f\circ\gamma)<\eps$.
\end{thm}

\begin{thm}{Remark}
\begin{enumerate}
 \item The main example of intrinsically continuous maps are Lipschitz
maps from length spaces to arbitrary metric spaces.
\item Restrictions of intrinsically continuous maps to compact sets are uniformly intrinsically continuous. 
\item If a map $f\:Y\to Z$ is intrinsically continuous, then 
the natural projection $\pi_f\:Y\rightarrow \|Y\|_f$ is continuous. If
moreover $Y$ is compact, then $\|Y\|_f$ equipped with the induced 
metric is a geodesic space.
\end{enumerate}
\end{thm}


\subsubsection{Proper metric spaces}~

\medskip

Let $X$ be a compact metric space and $Y$ a proper metric space. Denote the set
of continuous maps $X \to Y$ equipped with the compact-open topology 
by $\mathcal{C}(X,Y)$. In Section \ref{sec:Def} we defined a partial 
order $``\succcurlyeq ''$ on $\mathcal{C}(X,Y)$.

We address the problem of finding a
metric minimizing map below a given continuous one.

For a subset $A\subset X$ and a map $f\in\mathcal{C}(X,Y)$ we 
define its relative sublevel $\mathcal{F}(f)$ consisting of all maps $g\in\mathcal{C}(X,Y)$
with $g|_{A}=f|_{A}$ and $f\succcurlyeq g$. If $f$ is intrinsically continuous as a map from $X$, then
so is every element in $\mathcal{F}(f)$. In this case, the family
$\mathcal{F}(f)$ is equicontinuous. 
By Arzel\`a-Ascoli, it is precompact, since $Y$ is proper and it is
closed by the semi-continuity of length structures. Hence, we conclude 
that $\mathcal{F}(f)$ contains a 
minimal element. This element is clearly metric minimizing, since the induced metric 
determines the length structure. This explains

\begin{thm}{Proposition}\label{prop:exist}
 If $X$ is a compact metric space and $Y$ is a proper metric space, then for every intrinsically continuous map $f\:X\rightarrow Y$,
 there is an intrinsically continuous  metric minimizing map $s\:X\rightarrow Y$
 such that $f\succcurlyeq s$.
\end{thm}





\section{Smooth surfaces}\label{sec:smooth}

In this section we show that any strictly saddle surface is locally metric minimizing.
So in particular, the metric minimizing surfaces do generalize strictly saddle surfaces.

\begin{thm}{Proposition}\label{prop:smooth}
Any smooth strictly saddle surface in $\RR^3$ is locally metric minimizing.
\end{thm}

\begin{wrapfigure}{r}{20 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/not-sufficient-surface(1)}
%\lbl[lb]{12.5,11;$W_0$}}
\end{lpic}
\end{wrapfigure}

In general smooth saddle surfaces may not be globally metric minimizing.
An example homeomorphic to a pair of pants 
can be found among surfaces surrounding the triangle with three segments as shown on the picture.
We could not find examples like that among strictly saddle surfaces or discs, but it is very likely that such examples do exist.

\medskip

Let $s\:\DD\to\RR^3$ be a smooth map.

Fix an array of vector fields $\bm{v}=(v_1,\dots,v_k)$ in $\DD$. Consider the energy functional 
\[E_{\bm{v}}s
\df
\sum_i\int\limits_\DD |v_is|^2\cdot d_x\area.\]
Set 
\[\Delta_{\bm{v}}s=\sum_iv_i(v_is).\]
It is convenient to think of the operator $s\mapsto \Delta_{\bm{v}}s$
as an analog of the Laplacian.

Note that 
\begin{enumerate}[(i)]
\item $E_{\bm{v}}$ is well defined for any Lipschitz map $s$.
\item $E_{\bm{v}}$ is convex, that is
\[E_{\bm{v}}[t\cdot s_1+(1-t)\cdot s_2]
\le 
t\cdot E_{\bm{v}} s_1+(1-t)\cdot E_{\bm{v}} s_2.\]
\item If $s$ is a smooth $E_{\bm{v}}$-minimizing map in the class of Lipschitz maps with given boundary data then $s$ is metric minimizing.
\item A smooth map $s\:\DD\to\RR^3$ is a $E_{\bm{v}}$-minimizing map among the class of Lipschitz maps with given boundary if and only if
\[\Delta_{\bm{v}}s=0.\]

\end{enumerate}

The discussion above reduces the Proposition above to the following.

\begin{thm}{Claim}
Assume $s\:\DD\to \RR^3$ is a smooth strictly saddle surface. 
Then for any interior point $p\in\DD$ there is an array of 4 vector fields $\bm{v}=(v_1,v_2,v_3,v_4)$ such that the equation \[\Delta_{\bm{v}}s=0\eqlbl{eq:laplasian}\]
holds in an open neighborhood of $p$.
\end{thm}

\parit{Proof.}
Denote 
by $\kappa_1,\kappa_2$ the principal curvatures,
and by $e_1,e_2$ the corresponding unit principal vectors. 
Further, denote by by $a_1,a_2$ a pair of asymptotic vectors; we can assume that $a_1,a_2$ form coordinate vector fields in a neighborhood of $x$.


Set $v_1=\tfrac 1{\sqrt{|\kappa_1|}}\cdot e_1$ and $v_2=\tfrac 1{\sqrt{|\kappa_2|}}\cdot e_2$. 
It remains to show that one can choose smooth functions  $\lambda_1$ and $\lambda_2$ 
so that \ref{eq:laplasian}
holds in a neighborhood of $x$ for $v_3=\lambda_1\cdot a_1$ and $v_4=\lambda_1\cdot a_1$.

Note that the sum $v_1(v_1s)+v_2(v_2s)$ has vanishing normal part.
That is \[v_1(v_1s)+v_2(v_2s)\] is a tangent vector to the surface.

Since the $a_i$ are asymptotic,
the vectors $a_1(a_1s)$ and $a_2(a_2s)$ have vanishing normal part.
Therefore, for any choice of $\lambda_i$,
the following two vectors are also tangent
\begin{align*}
v_3(v_3s)&=\lambda_1^2\cdot a_1(a_1s)+\tfrac12\cdot a_1\lambda_1^2\cdot a_1s
\\
v_4(v_4s)&=\lambda_2^2\cdot a_2(a_2s)+\tfrac12\cdot a_2\lambda_2^2\cdot a_2s.
\end{align*}

Set $w=(\lambda_1^2,\lambda_2^2)$.
Note that the system \ref{eq:laplasian} can be rewritten as 
\[\left(\begin{smallmatrix}
   1&0\\0&0
  \end{smallmatrix}\right)
w_x
+
\left(\begin{smallmatrix}
   0&0\\0&1
  \end{smallmatrix}\right)
w_y=h(x,y,w),\]
where $h\:\RR^3\to\RR^2$ is a smooth function.

Change coordinate system, by setting $x=t+z$ and $y=t-z$.
Then the system takes the form 
\[w_t+\left(\begin{smallmatrix}
   1&0\\0&-1
  \end{smallmatrix}\right)
w_z=h(t+z,t-z,w)\]

This system is ???,
according to \cite[Theorem 3.6]{bressan}, it can be solved locally for smooth initial data at $t=0$.

It remains to choose $v_3$ and $v_4$ for solution so that $\lambda_1, \lambda_2>0$ in a small neighborhood of $p$.
\qeds


\section{Final remarks}

\parbf{Separability condition.}
Note that since disc $\DD$ is compact, 
for any continuous $s\:\DD\to Y$ into a metric space,
the space $|\DD|_s$ is compact.
On the other hand the space $\|\DD\|_s$ might not even be separable,
say if $s$ is given as a cone over a Koch snowflake then 
$|\DD|_s$ is homeomorphic to the disc while $\|\DD\|_s$ is homeomorphic to an uncountable set of segments glued at one end.

The separablity condition in the Main Theorem \ref{thm:main}
might not be necesary.
While we tried to remove it, we found the following statement 
which we want to share.

\begin{thm}{Proposition}
Let $Y\in\CAT[0]$ 
and 
$f\:\DD\to Y$ be a continuous metric minimizing disc.
Then $\|\DD\|_f$ is a complete metric space.
\end{thm}

\parit{Proof.}
Denote by $Z$ the completion of $\|\DD\|_f$.

By Proposition \ref{prop:|D|},
the space $|\DD|_f$ is compact.
Therefore the tautological map $\iota\:\|\DD\|_f\to |\DD|_f$ 
extends to a continuous map $\bar \iota\:W\to |\DD|_f$.

If $\|\DD\|_f$ is a proper subset of $Z$ 
then $\bar \iota$ is not injective.

In this case there is a rectifiable path $\gamma\:[0,1]\to Z$,
such that $\gamma(t)\in\|\DD\|_f$ for all $t<1$ and $\gamma(1)\notin \|\DD\|_f$.
Note that the path $\bar f\circ \gamma$ is also rectifiable and in particular continuous, so it can be lifted to $\|\DD\|_f$.
That is, $\gamma(1)\in \|\DD\|_f$, a contradiction.
\qeds

\parbf{Smooth metric minimizing surfaces.}
At the moment we do not see any way to show that a given surface is metric minimizing except by constructing an appropriate energy for which it is energy minimizing, as we did in Section~\ref{sec:smooth}.
Calculations show that generic smooth saddle surfaces in $\RR^4$ are not energy minimizing for any energy.

We expect that generic smooth saddle surfaces in $\RR^4$ are not metric minimizing; that is arbitrary small neighborhoods of any point admit deformations which shrink 
the intrinsic metric and keep the boundary fixed.




\begin{thebibliography}{52}
\bibitem{moore}
Moore, R. L.,
``Concerning upper semi-continuous collections of continua,''
Trans. Amer. Math. Soc. 27 no. 4 (1925) pp. 416--428.

\bibitem{bressan} Bressan, A.
``Hyperbolic systems of conservation laws.
The one-dimensional Cauchy problem.'' 
Oxford Lecture Series in Mathematics and its Applications, 20. 
Oxford University Press, Oxford, 2000. 
xii+250 pp.

\bibitem{BBI}Burago, D.; Burago, Y.; Ivanov, S.
A course in metric geometry.
Graduate Studies in Mathematics, 33. American Mathematical Society, Providence, RI, 2001. xiv+415 pp.

\bibitem{H} Hamilton, R. S. ``Harmonic Maps of Manifolds with Boundary,'' Lecture Notes in Mathematics, Springer, 1975, ISBN 978-3-540-37530-2.

\bibitem{HKST} Heinonen, J.;  Koskela, P.;  Shanmugalinga, N.; Tyson, J. ``Sobolev spaces on metric measure spaces,''
volume 27 of New Mathematical Monographs. Cambridge University Press, Cambridge, 2015.

\bibitem{KS}Korevaar, N. J.; Schoen, R. M. ``Sobolev spaces and harmonic maps for metric space targets,'' Comm. Anal. Geom., 1(3-4):561-659, 1993.

\bibitem{LW}Lytchak, A.; Wenger, S. ``Area minimizing discs in metric spaces,'' preprint arXiv:1502.06571, 2015.

\bibitem{LW2}Lytchak, A.; Wenger, S. ``Energy and area minimizers in metric spaces,'' preprint  arXiv:1507.02670, 2015.

\bibitem{LW3}Lytchak, A.; Wenger, S. ``Intrinsic structure of minimal discs in metric spaces ,'' preprint  arXiv:1602.06755, 2016.

\bibitem{petrunin-metric-min} Petrunin, A.
``Metric minimizing surfaces.''
Electron. Res. Announc. Amer. Math. Soc. 5 (1999), 47--54 

\bibitem{petrunin-orthodox} Petrunin, A. 
``Exercises in Orthodox Geometry''
{\tt arXiv:0906.0290 [math.HO]}

\bibitem{R}Reshetnyak, Yu. G. ``Sobolev classes of functions with values in a metric space,'' II, Sibirsk. Mat. Zh. 45 (2004), no. 4, 855-870. MR 2091651 (2005e:46055)

\bibitem{shefel-2D} S. Z. \v{S}efel, On saddle surfaces bounded by a rectifiable curve, Dokl. Akad. Nauk SSSR 162 (1965), 294--296.

\bibitem{shefel-3D} S. Z. \v{S}efel, On the intrinsic geometry of saddle surfaces, Sibirsk. Mat. . 5 (1964), 1382--1396

\bibitem{W1}Whyburn, G. T., ``On sequences and limiting sets,'' Fund. Math. vol. 25 (1935) pp. 408-426.

\bibitem{W2}Whyburn, G. T., ``Analytic topology,'' Amer. Math. Soc. Colloquium Publications, vol. 28, 1942.

\bibitem{Wi}Wilder, R. L., ``Topology of Manifolds,'' American Mathematical Society Colloquium Publications, vol. 32. American Mathematical
Society, New York, N. Y., 1949.
\end{thebibliography}


\end{document}