\documentclass[a4paper,10pt]{amsart}
\usepackage{metric-min}

\begin{document}
\title{Metric minimzing surfaces revisited}
\author{Anton Petrunin}
\address{A. Petrunin\newline\vskip-4mm
Math. Dept. PSU,
University Park, PA 16802,
USA}
\email{petrunin@math.psu.edu}
\author{Stephan Stadler}
\address{S. Stadler\newline\vskip-4mm
Math. Inst.,
Universit\"at M\"unchen, Theresienstr. 39, D-80333 M\"unchen, Germany}
\email{stadler@math.lmu.de}
%\thanks{A.~Petrunin was partially supported by NSF grant DMS 1309340.}


\date{}

\begin{abstract}
We say that a surface is metric minimizing if it does not admit a metric decreasing deformation.
We show that metric the metric minimizing surfaces in $\CAT[0]$ spaces are $\CAT[0]$.
\end{abstract}
\maketitle



\section{Definitions}

Let $X$ be a set.
A \emph{pseudometric} $|{*}-{*}|$ on set $X$ 
is a function $X\times X\to[0,\infty]$ (infinity is included in the codomain)
such that 
\begin{itemize}
\item $|x-x|=0$, for any $x\in X$;
\item $|x-y|=|y-x|$, for any $x,y\in X$;
\item $|x-y|+|y-z|\ge|x-z|$ for any  $x,y,z\in X$.
\end{itemize}

If in addition $|x-y|=0$ implies $x=y$ then $|{*}-{*}|$ is called \emph{metric}.


A set with pseudometric or metric will be called \emph{pseudometric} or correspondingly \emph{metric space}.

For any pseudometric on a set 
there is an equivalence relation ``$\sim$''
such that $x\sim y$ if and only if $|x-y|=0$.
The pseudmetric $|{*}-{*}|$ defines a genuine metric on the set of equivalence classes of $\sim$.

\parbf{Induced  pseudometrics.}
Let $X$ and $Y$ be metric spaces.
Given a map $f\:X\to Y$,
define \emph{connecting pseudometric} $|{*}-{*}|_f$ on $X$ 
the following way
\[|x-y|_f=\inf\{\diam f(K)\},\]
where the infimum is taken for all connected sets $K\subset X$ which contain $x$ and $y$;
if there is no such set we assume $|x-y|_f=\infty$.

The intrinsic metric induced by $|{*}-{*}|_f$ will be denoted as 
$\|{*}-{*}\|_f$. 
That is, 
\[\|x-y\|_f=\liminf_{\eps\to0+}\left\{\sum_{i=1}^n|x_i-x_{i-1}|_f\right\}.\]
where the infimum is taken for all arrays of pints 
$x=x_0,x_1,\dots,x_n=y$ such that 
$|x_i-x_{i-1}|_f<\eps$ for any $i$.

The metric spaces defined by the pseudomatrics $|{*}-{*}|_f$ 
and $\|{*}-{*}\|_f$ on $X$ will be denoted as $|X|_f$ and $\|X\|_f$ correspondingly.

Note that $|x-y|_f=0$ if and only if $\|x-y\|_f=0$;
that is,  both pseudometrics $|{*}-{*}|_f$ and  $\|{*}-{*}\|_f$
define the same equivalence classes on $X$.
The equivalence class of $x\in X$ will be denoted as $[x]_f$; 
it can be regarded as point in  $|X|_f$ and in $\|X\|_f$.

Given two maps $f,h\:X\to Y$ we will write $f\succcurlyeq h$ if 
\[\|x-y\|_f\ge \|x-y\|_h\]
for any pair of points $x,y\in X$.
If in addition the inequality is strict for at least one pair of points then we will write $f\succ h$.

\parbf{Metric minimizing map.}
Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.

The map $f\:X\to Y$ is called \emph{metric minimizing rel. $A$}
if there is no map $h\:X\to Y$ such that $f\succ h$
and $h$ agree with $f$ on $A$;
that is, $h|_A=f|_A$.

We say that $f\:X\to Y$ is \emph{strict metric minimizing rel. $A$}
if there is no map $h\:X\to Y$ distinct from $f$
such that $f\succcurlyeq h$, 
and $h|_A=f|_A$.

\begin{thm}{Proposition}\label{prop:point-complement}
Let $X$ and $Y$ be  metric spaces 
and $A\subset X$ is a closed subset.
Assume $X$ is connected and $f\:X\to Y$ is metric minimizing map rel. $A$.
Then for any point $x\in X$ any connected component of $X\backslash [x]_f$ intersects $A$.

\end{thm}

\parit{Proof.}
Assume contrary, denote by $W$ the connected component of $X\backslash [x]_f$ such that $A\cap W=\emptyset$.
Let us define the new map $h\:X\to\ Y$ 
by setting $f(z)=f(x)$ for any $z\in W$
and $h(z)=f(z)$ for any $z\notin W$.

By construction $f$ and $h$ agree on $A$ and $f\succcurlyeq h$.

Note that $\|x-y\|_f>0=\|x-y\|_h$ for any $y\in W$.
Therefore $f\succ h$, a contradiction.
\qeds

The following two propositions follow directly from the definition of metric minimizing maps.

\begin{thm}{Proposition}\label{prop:subset}
Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.
Assume $X$ is $f\:X\to Y$ is a metric minimizing map rel. $A$.

Given a closed subset $W\subset X$, set 
\[A_W=\partial W\cup (A\cap W).\]
Then the restriction $f|_W$ is metric minimizing rel. $A_W$.
\end{thm}

\begin{thm}{Proposition}\label{prop:factor}
Let $X, X'$ and $Y$ be metric spaces, 
$A\subset X$ be a closed subset.
Assume $f\:X\to Y$ is a metric minimizing map rel. $A$
which factros through a continous surjective map $\phi\:X\to X'$;
that is there is a map $f'\:X'\to Y$ such that $f=f'\circ\phi$.
Then $f'\:X'\to Y$ is metric minimizing rel. $\phi(A)$.
\end{thm}

\section{Metric minimizing graphs}



\begin{thm}{Proposition}
Assume $\Gamma$ is a  finite graph and $A$ is a collection of its vertices.
Let $Y\in\CAT[0]$ and $f\:\Gamma\to Y$ is arbitrary map.
Then there is a metric minimizing map $f'\:\Gamma\to Y$ rel. $A$ such that
$f'|_A=f|_A$ and 
$f\succcurlyeq f'$.
\end{thm} 

\parit{Proof.} Note that there is a sequence of maps $f=f_0\succcurlyeq f_1\succcurlyeq\dots$ such that $f_n|_A=f|_A$ and there is no map $h\:\Gamma\to Y$ such that $f'|_A=f|_A$ and $f_n\succ h$ for each $n$.

Indeed, the sequence $f_n$ can be chosen so that
\[\length f_n<\inf\set{\length h}{f_{n-1}\succcurlyeq h,\ h|_A=f|_A},\]
where $\length f_n$ denotes the sum of lengths of all edges of $\Gamma$. %???BETTER WORDING??? 
Since $f_n\succ h$ implies $\length f_n>\length h$, 
the condition above holds for $f_n$.

Fix an ultra-filter $\omega$ on the set of natural numbers.
Let $Y^\omega$ be the ultra-power of $Y$;
recall that $Y$ can be (and will be) considered as a subspace of $Y^\omega$.
Pass to the ultra-limit $f_\omega\:\Gamma\to Y^\omega$ 
of $f_n\:\Gamma\to Y$.
Note that $f_\omega$ is a metric minimizing map.

It remains to show that $f_\omega(\Gamma)\subset Y$.
Assume contrary, then there is a subsequence of $f_n$ which $\omega$-converges to a metric minimizing map, say $v_\omega\:\Gamma\to Y^\omega$ distinct from $f_\omega$.
Denote by $g_\omega(x)$ the midpoint of $[v_\omega(x)f_\omega(x)]$.
Note that $f_\omega\succ g_\omega$ and $g_\omega|_A=f|_A$, a contradiction.
\qeds

\begin{thm}{Proposition}\label{prop:metric-min-graph}
Let $Y$ be a $\CAT[0]$ space 
and $\Gamma$ be a finite  graph and $A$ is a subset of its vertices.
Assume $f\:\Gamma\to Y$ is metric minimizing rel. $A$.
Then
\begin{itemize}
\item each edge of $\Gamma$ maps to a geodesic
\item for any vertex $v\notin A$ and any $x\ne f(v)$
there is an edge  $[vw]$ in $\Gamma$ such that
$\measuredangle[f(v)^{f(w)}_x]\ge \tfrac\pi2$.
\end{itemize}
Moreover, $f$ is strictly metric minimizing rel. $A$ 
\end{thm}

\begin{wrapfigure}{r}{22 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/not-sufficient(1)}
%\lbl[lb]{12.5,11;$W_0$}}
\end{lpic}
\end{wrapfigure}

As one may see from the diagram,
the last two conditions in the proposition do not guarantee that the map $f$ is metric minimizing.

\parit{Proof.}
By Proposition~\ref{prop:subset},
the restriction of $f$ to any edge $[vw]$ of $\Gamma$
is metric minimizing map rel. $\{v,w\}$.
Hence the first condition follows.

Assume the second condition does not hold at vertex $v\notin A$;
that is, there is a point $x\in Y$ such that
$\measuredangle[f(v)^{f(w)}_x]< \tfrac\pi2$
for any adjacent vertex $w$.
In this case moving $f(v)$ toward $x$ along $[f(v)x]$ decrease the lengths of all edges adjacent to $v$, a contradiction.

To prove the last statement, assume there is a map $f'$ distinct from $f$ such that $f|_A=f'|_A$ and $f\succcurlyeq f'$.
Denote by $g(x)$ the midpoint of $f(x)$ and $f'(x)$ for any $x\in \Gamma$. 
By comparison $f\succcurlyeq g$.
It follows that the tautological map $\|\Gamma\|_f\to \|\Gamma\|_g$ is an isometry.
The later imply that the distance $|f(v)-g(v)|$ is the same for all the vertices $v$ in $\Gamma$.
Since we have $|f(v)-g(v)|=0$ for any $v\in A$,
we get $f(v)=g(v)$ for any vertex $v$ in $\Gamma$.
The later implies that $f=f'$, a contradiction.
\qeds

Assume $\Gamma$ is a finite graph embedded in the plane,
in particular $\Gamma$ is a planar.

The complement to the unbounded connected component of $\RR^2\backslash\Gamma$ will be called filling of $\Gamma$;
it will be denoted as $\Fill\Gamma$.

The vertex of $\Gamma$ will be called \emph{boundary vertex}
if it lies in in the boundary $\partial\Fill\Gamma$,
otherwise it will be called \emph{interior vertex}.

\begin{thm}{Corollary}\label{cor:planar-minimizing-graph}
Let $Y$ be a $\CAT[0]$ space,
$\Gamma$ is a graph embedded in $\RR^2$.
Assume $f\:\Gamma\to Y$ is a metric minimizing map rel. to the boundary vertices 
then 
one can equip $\Fill\Gamma$ with a $\CAT[0]$ pseudometric 
and extend $f$ to a short map $\bar f\:\Fill\Gamma\to Y$ which is length preserving on $\Gamma$.
\end{thm}

\parit{Proof.}
Fix a cycle $\gamma$ in $\Gamma$ which bounds one of the discs in the complement $\RR^2\backslash \Gamma$.
Set $\ell=\length\gamma$.

By Reshetnyak's majorization theorem, there is a convex polygon $P$ (possibly degenerate) with perimeter $\ell$ which admits a short map to $Y$ in such a way that $\gamma$ is formed by the image of the boundary.
Note that each angle of $P$ is at least as big as 
the angle between the corresponding edges.

Prepare a polygon as above for each disc in the complement of $\Gamma$
and glue these polygons into $|\Gamma|_f$ along the natural map.
The obtained space $D$ is simply connected.
Therefore in order to show that $D$ is $\CAT[0]$,
we need to check that sum of the angles around each interior vertex in $\Gamma$ is at least $2\cdot\pi$.

Fix an interior vertex $v$.
Assume that the sum of angles around $v$ is less that $2\cdot\pi$.
The space of directions $\Sigma_{f(v)}$ is a $\CAT[1]$ space.
The directions of the edges from $v$ have natural
cyclic order say $\xi_1,\dots,\xi_k$
such that
\[\measuredangle(\xi_1,\xi_2)+\dots+\measuredangle(\xi_k,\xi_1)<2\cdot\pi.\]
By Reshetnyak's majorization theorem,
the closed broken line $\xi_1,\dots,\xi_k$ is majorized by a convex spherical polygon $P$.
Note that $P$ lies in an open hemisphere with the pole  at some point in $P$.
Choose $x\in Y$ so that the direction form $f(v)$ to $x$ coinsides with the image of the pole in $\Sigma_{f(v)}$.
This choice of $x$ contradicts the condition in Proposition~\ref{prop:metric-min-graph}.\qeds







\section{Metric minimizing discs}



Let us denote by $\DD$ the closed unit disc in the plane,
its boundary $\partial \DD$ is a unit circle.

Assume $f\:\DD\to X$ is a continuous map.
Let us consider the disc $\DD$ as a subset in the plane $\RR^2$.
For any $x\in \DD$, we define $[x]_f$ as above;
if $x\in \RR^2\backslash \DD$ we assume $[x]_f=\{x\}$.
Denote by $\RR^2_f$ the set of classes $[x]_f$ with quotient topology induced by the map $\iota_f\:x\mapsto [x]_f$.

According to Moore's theorem \cite{moore},
if for any point $x$, the set $[x]_f$ is connected compact set with connected complement
then $\RR^2_f$ is homeomorphic to the plane.
Applying Proposition~\ref{prop:point-complement} we get the following.

\begin{thm}{Proposition}\label{prop:|D|}
Let $f\:\DD\to\ Y$ be a metric minimizing map rel. $\partial \DD$.
Then $|\DD|_f$ is compact and it admits an embedding $\iota\:|\DD|_f\to \RR^2$.

Moreover the image of $\partial \DD$
under the map $x\mapsto \iota([x]_f)$
is $\partial_{\RR^2}[\iota(|\DD|_f)]$.
\end{thm}

Further we denote by $\partial|\DD|_f$ the image of $\partial \DD$
under the map $x\mapsto [x]_f$.
According to the above proposition 
\[\partial|\DD|_f=\iota^{-1}\left(\partial_{\RR^2}[\iota(|\DD|_f)]\right).\]

Note that the map $f\:\DD\to Y$ factors through the projection 
$\DD\to|\DD|_f$ defined as $x\mapsto[x]_f$.
Define $f'\:|\DD|_f\to Y$ as the map such that $f(x)=f'([x]_f)$ for any $x\in\DD$.

By Proposition \ref{prop:factor} the map $f'\:|\DD|_f\to Y$
is metric minimizing rel. $\partial|\DD|_f$.

\begin{thm}{Proposition}
Let $Y\in\CAT(0)$ 
and 
$f\:\DD\to Y$ be a metric minimizing disc.
Then $\|\DD\|_f$ is a complete metric space.
\end{thm}

\parit{Proof.}
Denote by $W$ be completion of $\|\DD\|_f$.

By Proposition \ref{prop:|D|},
the space $|\DD|_f$ is compact.
Therefore the tautological map $f\:\|\DD\|_f\to |\DD|_f$ 
extends to a continuous map $\bar f\:W\to |\DD|_f$.

If $\|\DD\|_f$ is a proper subset of $W$ 
then from above we get that
then $\bar f$ is not injective.

In this case there is a rectifiable path $\gamma\:[0,1]\to W$,
such that $\gamma(t)\in\|\DD\|_f$ for all $t<1$ and $\gamma(1)\notin \|\DD\|_f$.
Note that the path $\bar f\circ \gamma$ is also rectifiable and in particular continuous.
???
\qeds








\section{Key Lemma}


\begin{thm}{Key Lemma}\label{lem:key}
Let $Y$ be a $\CAT(0)$ space and $s\:\DD\to Y$ 
be a metric minimizing disc rel. the boundary $\partial \DD$.
Given a finite set $F\subset \DD$
there a $\CAT(0)$ space $W$ which is homeomorphic to a compact subset of the plane
and the maps $p\:F\to W$ and $q\:W\to Y$ such that
\[s(x)=q\circ p(x)\] 
for any $x\in F\cap \partial \DD$
and 
\[\|p(x),p(y)\|_q\le \|x-y\|_s\] 
for any $x,y\in F$.
\end{thm}

\parit{Proof.}
Let us connect each pair $x,y$ of points in $F$ by geodesics
if $\|x-y\|_s<\infty$.

We can assume that 
every pair of the constructed geodesics 
are either disjoint, or their intersection is formed by finite collections of arcs and points.

Indeed, assuming some number of geodesics $\gamma_1,\dots\gamma_n$ which meets the above properrty is already chousen and we need to choose one more geodesics connecting $x$ to $y$.
Choose a minimizing geodesic $\gamma_{n+1}$ which maximize the time it spends in $\gamma_1,\dots\gamma_n$  in the order of importance.
Namely, 
\begin{itemize}
\item  among all minimizing geodesics connecting $x$ to $y$
chosse one which spends maximal time in $\gamma_1$ --- in this case $\gamma_{n+1}$ intesects $\gamma_1$ along empty set, one-point set or a closed arc.
\item among all minimizing geodesics as above
chosse one which spends maximal time in $\gamma_2$ --- in this case $\gamma_{n+1}$ intesects $\gamma_2$ along at most two arcs and points.
\item and so on.
\end{itemize}

%IT SHOULD BE POSSIBLE TO ENSURE THAT INTERSECTION OF ANY TWO GEODESIC IS EMPTY OR CONNECTED, BUT I FAILED TO MAKE IT FORMALLY???

In particular the set of all these geodesics forms a finite graph, say $\Gamma$,
embedded in $|\DD|_s$. 

According to Proposition~\ref{prop:|D|},
$|\DD|_s$ admits an embedding into plane.
Therefore $\Gamma$ can be considered as a graph embedded into the plane.

It remains to apply Corollary~\ref{cor:planar-minimizing-graph}.
\qeds

\section{Compactness of planar CAT(0) spaces}

We recall some terminology. Let $X$ be a connected topological space. A point $c\in X$
is called a {\em cut point}, if $X\setminus \{c\}$ is disconnected. The set of cut points in $X$ 
will be denoted by $cut(X)$. If $X$ is connected and $x,y\in X$ are such that no cut point in $X$
seperates $x$ and $y$, then they are called {\em conjugate}. For a non-cut point $p\in X$
we define $conj(p)$ as the set of all points conjugate to $p$. A point $e\in X$ is called an {\em endpoint},
if $conj(e)=\{e\}$. The conjugacy set $conj(p)$ for non-endpoints
are called {\em cyclic elements}. Every cyclic element is a closed set\cite[IV(1.4)]{W2}. If $X$ is a 
Peano continuum\footnote{A {\em Peano continuum} is a compact
connected and locally connected metric space.}, then every cyclic element $conj(p)$ is {\em cyclically connected},\ i.e.
any two points $x,y\in conj(p)$ lie in a Jordan curve $J\subset conj(p)$\cite[III(3.32)]{Wi}. Any two different 
cyclic elements $conj(p)$ and $conj(q)$ intersect at most in a single point. Any point common to two 
different cyclic elements is a cut point\cite[IV(1.4)]{W2}.

\begin{thm}{Lemma}
 Let $X$ be a CAT(0) space. The conjugacy set for any point $p\in X$ is convex, and it is given by
 $$
conj(p):=\{q\in X|\ (pq)\cap cut(p)=\emptyset \}.
$$
\end{thm}

\parit{Proof.}
If two points are separated by a cut point, then any path connecting those points has to go through the cut point.
Hence the particular representation follows. Let $x,y\in conj(p)$ and $z\in cut(X)\setminus\{x,y\}$. Then a dense subset
of the geodesic cone from $p$ over $[xy]$ is contained in the same component of $X\setminus \{z\}$ as $p$. 
The claim follows since $conj(p)$ is closed.
\qeds

If $C$ is a locally connected continuum such that 
each cyclic element in $C$ is homeomorphic to a circle, then $C$ is
called a {\em boundary curve}. A {\em base set} is a locally connected continuum which
embeds into the plane $\mathbb{R}^2$ such that its image is not separating. A locally connected
continuum $B$ is a base set if and only if every cyclic element in $B$ is homeomorphic to a disc,
whose interior is open in $B$. If we remove the interiors of all cyclic elements in $B$ the remaining
space is a boundary curve $C$. In this case we say that $B$ is bounded by $C$.


\begin{thm}{Lemma}
 Let $X$ be a compact CAT(0) space which embeds into $\mathbb{R}^2$. Then $X$
 is homeomorphic to a base set.
\end{thm}

\parit{Proof.}
Clearly $X$ is connected and locally connected. Let $\iota :X\hookrightarrow\mathbb{R}^2$ be an embedding.
If $\iota(X)$ separates $\mathbb{R}^2$, then it would contain a Jordan curve $J$ which still separates
$\mathbb{R}^2$. This is impossible since $J$ is contractible in $X$.
\qeds

We need Whyburn's notion of {\em regular convergence}\footnote{Our definition of regular convergence coincides with Whyburn's regular convergence relative
to 0- and 1-cycles.}. A sequence of compact metric spaces $(K_n,d_n)$ converges regularly to a 
metric space $(K,d)$, if they converge with respect to Gromov--Hausdorff distance and the following two conditions are fulfilled:
\begin{itemize}
 \item[(i)] For any sequence of pairs of points $x_n,y_n\in K_n$ with $d_n(x_n,y_n)\to 0$, there is a sequence of paths $\gamma_n$
 connecting $x_n$ to $y_n$ such that $\diam(\gamma_n)\to 0$.
 \item[(ii)] For any sequence of Jordan curves $J_n\subset K_n$ with $\diam(J_n)\to 0$, there is a sequence of continuous discs $D_n\subset K_n$
 with $\partial D_n=J_n$ and $\diam D_n\to 0$. 
\end{itemize}

Note that if all spaces $K_n$ are geodesic, then condition (i) is automatically fulfilled. Moreover, if all 
spaces $K_n$ are CAT(0), then condition (ii) is fulfilled as well because any Jordan curve of diameter $a$ in a CAT(0)
space is contractible in a ball of radius $a$. Hence any Gromov--Hausdorff converging sequence of CAT(0) spaces is 
regularly convergent.

Let $\mathcal{K}_\ell$ be the set of isometry classes of $\CAT(0)$ metrics on base sets with rectifiable
boundary curves of length at most $\ell$.



\begin{thm}{Lemma}
$\mathcal{K}_\ell$ is precompact in the Gromov--Hausdorff topology.
\end{thm}

Further $\area K$ denotes the two-dimensional Hausdorff measure of a metric space $K$. 

\parit{Proof.}
Let $K$ be a metric space with isometry class in $\mathcal {K}_\ell$.
By Reshetnyak's theorem there is a short map from a convex plane figure $F$ with perimeter at most $\ell$ onto $K$.
In particular, $\area K \le \area F 
\le \ell^2$.

Fix $\eps>0$. 
Set $m=\lceil 10\cdot\tfrac\ell\eps\rceil$.
Choose $m$ points $y_1,\dots,y_m$ on $\partial D$
which divide $\partial D$ into arcs of equal length.

Consider the maximal set of points $\{x_1,\dots,x_n\}$ such that $d(x_i,x_j)>\eps$ and $d(x_i,y_j)>\eps$.

Note that the set $\{x_1,\dots,x_n,y_1,\dots,y_m\}$
forms an $\eps$-net in $(\DD,d)$.

Further note that the balls $B_i=B_{\eps/2}(x_i)$
do not overlap.
By comparison,
\[\area B_i\ge \tfrac{\pi\cdot\eps^2}{4}.\]

It follows that $n\le 2\cdot\left(\tfrac\ell\eps\right)^2$.
That is, there is a function $N(\eps)$,
which returns a positive integer for any $\eps>0$
such that for any 
$(\DD,d)$ contains an $\eps$-net
with at most $N(\eps)$ points.

In other words, $\mathcal{K}_\ell$ is uniformly totally bounded.
Any class of metrics with such property is precompact in Gromov--Hausdorff topology; 
see for example \cite[7.4.15]{BBI}.
\qeds





\begin{thm}{Lemma}
$\mathcal{K}_\ell$ is closed in the Gromov--Hausdorff topology.
\end{thm}
\parit{Proof.}
Let $K_n\to K$ be a Gromov--Hausdorff convergent sequence  where every $K_n$ represents an element in  $\mathcal{K}_\ell$. Then
$K$ is a compact CAT(0) space. Let $p\in K$ be a point which is neither a cut point not an end point. We need to show that the cyclic 
element $conj(p)$ is homeomorphic to a disc. Let $J\subset conj(p)$ be a Jordan curve with $p\in J$. Choose Jordan curves $J_n\subset K_n$
with $J_n\to K_n$ \cite[2.2]{W1}. Then there is a unique cyclic element $C_n\subset K_n$ such that $J_n\subset C_n$. By assumption $C_n$ is homeomorphic
to a disc. The limit $C_\infty:=\lim C_n$ is a convex subset of $K$ containing $J$. By \cite[6.3]{W1}, $C_\infty$ is a base set and therefore contains a
unique cyclic element $D_\infty$ such that $J\subset D_\infty$. Since $D_\infty$ is homeomorphic to a disc, it is clear that $D_\infty\subset conj(p)$.

{\it Claim:} $D_\infty=conj(p)$.

\noindent If this is not the case, then there is an element $q\in conj(p)\setminus D_\infty$. Choose a point $p'\in D_\infty\setminus J$ which is surrounded 
by $J$. Using the cyclic connectedness we find a Jordan curve $J'\subset conj(p)$ such that $p',q\in J'$. Approximate $J'$
by Jordan curves $J_n'\subset K_n$ and the point $p'$ by points $p_n'\in K_n$. Since $p_n'$ is then surrounded by the $J_n'$, the intersection
$J_n'\cap J_n$ contains at least two points. Consequently $J_n'$ lies in the same cyclic element as $J_n$,\ i.e. $J_n'\subset C_n$. As
above we conclude that there is a unique cyclic element $D_\infty'\subset C_\infty$ such that $J'\subset D_\infty'$. But 
$J'$ intersects the interior of $D_\infty$ in the point $p'$. Hence $D_\infty=D_\infty'$, a contradiction.
\qeds

Combining the last two statements we arrive at:

\begin{thm}{Lemma on compactness}\label{lem:compact}
$\mathcal{K}_\ell$ is compact in the Gromov--Hausdorff topology.
\end{thm}



\section{Proof assembling}

\parit{Proof of Main theorem.}
Note that it is sufficient to prove the theorem 
in the case if $\partial |\DD|_f$ is rectifiable.

Indeed, fix a triangle $\triangle$ in $\|\DD\|_f$.
If the above case is proved 
then it bounds a closed set which is $\CAT[0]$.
In particular $\triangle$ is thin.
Since $\triangle$ is arbitrary, the statement follows.

Given a fine set $F\subset \DD$,
denote by $\mathcal{W}_F$
the set of isometry classes of spaces $W$ which meet the conditions of the Key Lemma~\ref{lem:key}
for $F$.
According to Lemma on compactness (\ref{lem:compact}) $\mathcal{W}_F$ is compact.

For two finite sets $F\subset F'\subset \DD$,
we have $\mathcal{W}_F\supset \mathcal{W}_{F'}$.
Therefore 
\[\mathcal{W}
=
\bigcap_{F}\mathcal{W}_F\ne \emptyset,\]
Where the intersection is taken for all finite subsets $F$ in $\DD$.

Fix a space $W$ from $\mathcal{W}$
and a dense sequence of points $\{x_1,x_2,\dots\}$ in $\DD$,
such that the subsequence of points in $\partial \DD$
is also dense in $\partial \DD$.
Set $F_n=\{x_1,\dots,x_n\}$.
Denote by $p_n\:F_n\to W$ a map satisfying the conditions in the Key Lemma~\ref{lem:key}.

Passing to a subsequence by $n$ we can ensure that the sequence
$z_n=p_n(x_k)$ converges for every $k$.
Set 
\[p(x_k)=\lim_{n\to\infty} p_n(x_k).\]

Note that $p$ is short. 
Therefore it can be extended to whole $\DD$ as a short map which we will still denote as $p$.

Summarizing ??? Hence the statement follows.\qeds


\begin{thebibliography}{52}
\bibitem{moore}
Moore, R. L.,
``Concerning upper semi-continuous collections of continua,''
Trans. Amer. Math. Soc. 27 no. 4 (1925) pp. 416--428
\bibitem{BBI}Burago, D.; Burago, Y.; Ivanov, S.
A course in metric geometry.
Graduate Studies in Mathematics, 33. American Mathematical Society, Providence, RI, 2001. xiv+415 pp.
\bibitem{W1}G. T. Whyburn, ``On sequences and limiting sets,'' Fund. Math. vol. 25 (1935) pp. 408-426.
\bibitem{W2} G. T. Whyburn, ``Analytic topology,'' Amer. Math. Soc. Colloquium Publications, vol. 28, 1942.
\bibitem{Wi} R. L. Wilder, ``Topology of Manifolds,'' American Mathematical Society Colloquium Publications, vol. 32. American Mathematical
Society, New York, N. Y., 1949
\end{thebibliography}


\end{document}


@article {moore,
    AUTHOR = {Moore, R. L.},
     TITLE = {Concerning upper semi-continuous collections of continua},
   JOURNAL = {Trans. Amer. Math. Soc.},
  FJOURNAL = {Transactions of the American Mathematical Society},
    VOLUME = {27},
      YEAR = {1925},
    NUMBER = {4},
     PAGES = {416--428},
      ISSN = {0002-9947},
     CODEN = {TAMTAM},
   MRCLASS = {54F15 (54B99)},
  MRNUMBER = {1501320},
       DOI = {10.2307/1989234},
       URL = {http://dx.doi.org/10.2307/1989234},
}	




