\documentclass{article}
\usepackage{metric-min}
%\usepackage{showkeys}

\begin{document}
\title{Metric minimzing surfaces revisited}
\author{Anton Petrunin and Stephan Stadler}
%\address{A. Petrunin\newline\vskip-4mm Math. Dept. PSU,University Park, PA 16802,USA}
%\email{petrunin@math.psu.edu}
%\address{S. Stadler\newline\vskip-4mm Math. Inst.,Universit\"at M\"unchen, Theresienstr. 39, D-80333 M\"unchen, Germany}\email{stadler@math.lmu.de}
%\thanks{A.~Petrunin was partially supported by NSF grant DMS 1309340.}


\date{}

\maketitle

\begin{abstract}
A surface which does not admit a length nonincreasing deformation is called \emph{metric minimizing}.
We show that reasonable metric minimizing surfaces in $\CAT[0]$ spaces are $\CAT[0]$ with respect to their intrinsic metric. 

\end{abstract}

\section{Introduction}

Assume $Y$ is a metric space, 
$\DD$ is the unit disc 
and $s\:\DD\to Y$ is a continous map.
The induced intrinsic distance $\|x-y\|_s$ for points $x,y\in\DD$ is defined in the preliminaries,
but if $s$ is reasonable, it coincides with the least upper bound for the lengths of $s\circ\gamma$ for all paths $\gamma\:[0,1]\to \DD$ which connect $x$ to $y$.
In particular, if $s$ is an embedding then $\|x-y\|_s$ coincides with the induced intrinsic metric between $s(x)$ and $s(y)$ in the image $s(\DD)\subset Y$.
The disc $\DD$ with the metric $\|{*}-{*}\|_s$ will be denoted as $\|\DD\|_s$.

The map $s\:\DD\to Y$ is called \emph{metric minimizing relative its boundary} if for any other map $s'\:\DD\to Y$ which coincides with $s$ on the boundary $\partial \DD$, 
the intrinsic distance increase for at least two points of the domain.
Examples of metric minimizing surfaces include
ruled surfaces, energy minimizing and area minimizing surfaces; 
see Proposition~\ref{prop:harmonic}.

\begin{thm}{Main theorem}\label{thm:mainintro}
Let $Y$ be a $\CAT[0]$ space 
and $s\:\DD\to Y$ be a continuous metric minimizing map relative to the boundary $\partial\DD$ such that $s|_{\partial\DD}$ is rectifiable.
Suppose that $\|\DD\|_s$  is separable. Then $\|\DD\|_s$ is a $\CAT[0]$ disc retract. 
If moreover  $s|_{\partial\DD}$ is an embedding,
then $\|\DD\|_s$ is a $\CAT[0]$ disc.
\end{thm}

The theorem generalizes Alexandrov's theorem on ruled surfaces \cite{A};
it is also closely related to the resuls of Shefel in \cite{shefel-2D} and \cite{shefel-3D}.
A weaker vesion of the above theorem was proved by the first author in \cite{petrunin-metric-min};
this proof also contained a gap which we fill in this paper. 

We do not know whether the separability condition is necessary.
Note that for continuous $s$ the space $\|\DD\|_s$ maybe note separable.
For example for a cone over a Koch snowflake, the space $\|\DD\|_s$ is homeomorphic to an uncountable set of segments glued at one end --- although it is not separable it is still $\CAT[0]$. 

For the applications of our result see \cite{LSW} and \cite{St}.

The class of metric minimizing surface is closely related to saddle surfaces.
In \cite{petrunin-metric-min} it was asked if all the saddle surfaces are locally metric minimizing.
We show that \emph{any smooth strictly saddle surface in $\RR^3$ is locally metric minimizing};
see Proposition~\ref{prop:smooth}. 


We suspect that it is not the case in 4-dimesional Euclidean space;
see the last section for more details.

\parbf{Structure of the paper.}
In Section~\ref{sec:Def} we give the necessary definitions from metric geometry, introduce the concept of metric minimizing map
and in Section~\ref{Metric minimizing maps} and prove its basic properties. 

In Section~\ref{Metric minimizing graphs}
we discuss metric minimizing graphs and show that any metric minimizing graph can be extended to a short
map defined on a $\CAT[0]$ disc retruct (Corollary \ref{cor:planar-minimizing-graph}). 
In Section~\ref{Metric minimizing discs} we study metric minimizing discs and
use a theorem of Moore \cite{moore} to obtain topological information about  their 
associated \emph{connecting metric space} (Proposition \ref{prop:|D|}). 
This result is responsible for 
the topological control in the main theorems. 
In Section~\ref{Key Lemma} we prove the key lemma (\ref{lem:key}) which implies that 
metric minimizing discs factorize through two-dimensional $\CAT[0]$-spaces. 
Section~\ref{Compactness} provides a compactness result for $\CAT[0]$-surfaces;
this theorem might be of independent interest. 

In Section~\ref{Shefel} we treat the two-dimensional case; 
that is, metric minimizing discs in $\CAT[0]$-surfaces;
this part is a straightforward generalization of the Shefel's result from \cite{shefel-2D}. 

In Section~\ref{Main theorem} we assemble the proof our main theorem (\ref{thm:main})
a corollary from which (\ref{cor:main}) is  Theorem~\ref{thm:mainintro} above.

Section~\ref{Existence and uniqueness} is devoted to the existence and uniqueness of metric minimizing maps.
Here we also introduce the notion of intrinsic continuity. 

Sections \ref{Harmonic discs}--\ref{sec:smooth} are about examples.
In Section~\ref{Harmonic discs} we recall some results about  harmonic discs and show that they imply any harmonic disc is metric minimizing. 
In Section~\ref{sec:smooth} we treat smooth saddle surfaces in $\mathbb{R}^3$ and show that they are locally metric minimizing.
This turned out to be rather tricky and relies on PDE results.

Finally in Section~\ref{Final remarks} we comment on the separability condition and on saddle 
surfaces in general.

\parbf{Acknowledgement.}
We want to thank Sergei Ivanov, Carlo Sinestrari, Peter Topping and
Burkhard Wilking for helping us with the proof of Proposition~\ref{prop:smooth}.
We also would like to thank Alexander Lytchak for explaining his recent work 
with Stefan Wenger and for several helpful discussions.

\section{Induced  pseudometrics}\label{sec:Def}

Let $X$ be a set.
A \emph{pseudometric} $|{*}-{*}|$ on a set $X$ 
is a function $X\times X\to[0,\infty]$
such that 
\begin{itemize}
\item $|x-x|=0$, for any $x\in X$;
\item $|x-y|=|y-x|$, for any $x,y\in X$;
\item $|x-y|+|y-z|\ge|x-z|$ for any  $x,y,z\in X$.
\end{itemize}
If in addition $|x-y|=0$ implies $x=y$ then the pseudometric $|{*}-{*}|$ is called \emph{nondegenerated}.
A nondegenerated pseudometric which only takes finite values is called a \emph{metric}. A set with a pseudometric 
or metric will be called \emph{pseudometric} or correspondingly \emph{metric space}.

The value $|x-y|$ will also be called \emph{distance} form $x$ to $y$.
Note that by our definition, the distance between points might be infinite.

For any pseudometric on a set 
there is an equivalence relation ``$\sim$''
such that $x\sim y$ if and only if $|x-y|=0$.
The pseudometric induced  on the set of equivalence classes of $\sim$ is nondegenerated.

Further, for a nondegenerated pseudometric space we can consider the equivalence relation ``$\approx$'' defined as \[x\approx y\  \iff\  |x-y|<\infty.\]
Its equivalence classes are called \emph{metric components}.
Note that by definition each metric component is a \emph{metric space}.
Consequently, a nondegenerated pseudometric space 
can be thought of as a disjoint union of \emph{metric spaces}.
We will say that the obtained metric spaces are \emph{defined} by the  
original pseudometric space.%???IS IT A GOOD WAY TO SAY??? 

For a metric space $X$ and a curve $c\:[a,b]\to X$ we define its {\em length} as
\[\length_X(c)=\sup\sum_{i=0}^{k-1} |c(t_i)-c(t_{i+1})|\]
where the supremum is taken over all finite partitions ${a=t_0<t_1<\ldots t_k=b}$ of $[a,b]$. 
A continuous curve $c$ is called {\em rectifiable} if its length is finite.

\parbf{Induced  pseudometrics.}
Let $X$ and $Y$ be metric spaces.
Given a map $f\:X\to Y$,
define a \emph{connecting pseudometric} $|{*}-{*}|_f$ on $X$ in
the following way
\[|x-y|_f=\inf\{\diam f(K)\},\]
where the infimum is taken over all connected sets $K\subset X$ which contain $x$ and $y$;
if there is no such set we assume $|x-y|_f=\infty$.

The intrinsic metric induced by $|{*}-{*}|_f$ will be denoted as 
$\|{*}-{*}\|_f$. 
That~is, 
\[\|x-y\|_f=\inf\set{\length(\gamma)}{\gamma\ \text{continuous curve in}\ |X|_f\ \text{connecting}\ x \ \text{and}\ y}\]
where the length is computed with respect to $|{*}-{*}|_f$.

The metric spaces defined by the pseudometrics $|{*}-{*}|_f$ 
and $\|{*}-{*}\|_f$ on $X$ will be denoted as $|X|_f$ and $\|X\|_f$ correspondingly.

\medskip

The map $f$ factors as $f=\bar f\circ \pi_f$ with $\pi_f\:X\to|X|_f$ and $\bar f\:|X|_f\to Y$.
For a point $x\in X$, let $[x]_f=\pi_f^{-1}(\pi_f(x))$ be the fiber of $\pi_f$ through $x$.

\begin{thm}{Lemma}\label{lem:picont}
Let $X$ be a length space, $Y$ a metric space and $f\:X\to Y$ a continuous map. 
Then the following holds true.
\begin{itemize}
 \item $\pi_f\:X\to|X|_f$ is continuous.
 \item For points $x,y\in X$ with $|x-y|_f<\infty$ we have
\[|x-y|_f=\inf\{\diam f(K)\},\]
where the infimum is taken over all {\em open} connected sets $K\subset X$ which contain $x$ and $y$.
  \item $|X|_f$ is locally pathconnected.
\end{itemize}

\end{thm}
\parit{Proof.}
Let $(x_k)$ be a sequence in $X$ which converges to a point $x$. For $\eps>0$ choose $\delta>0$ such that
$f(B_\delta(x))\subset B_\eps(f(x))$. 
If $x_k\in B_\delta(x)$, then there is a path in $X$ connecting $x_k$
to $x$ whose image under $f$ has diameter less than $2\cdot\eps$ and therefore $|x-x_k|_f\to 0$. This shows the first claim.

Let $C$ be a connected subset of $Y$ with finite diameter. Then for every $\eps>0$ the open $\eps$-neighbourhood $U_\eps$ of $C$ has diameter less than
$\diam C+2\cdot\eps$. The claim follows since every component of the inverse image $f^{-1}(U_\eps)$ is open. 

Let $x$ be a point in $|X|_f$ and $y\in B_r(x)$ for some $r>0$. 
Denote $\hat x$ and $\hat y$ arbitrary lifts of $x$ and $y$.
From above we know that there is an open connected subset $C$ in $X$ containing $\hat x$ and $\hat y$ and such that 
$\diam f(C)<r$. 
It remains to join $\hat x$ and $\hat y$ by a path in $C$.
\qeds

\begin{thm}{Corollary}\label{cor:geospace}
Let $X$ be a compact geodesic space, $Y$ a metric space and $f\:X\to Y$ a continuous map. Then each metric component of $\|X\|_f$ is a complete geodesic space.
\end{thm}
\parit{Proof.}
From Lemma \ref{lem:picont} we know that $\pi_f$ is continuous and therefore $|X|_f$ is compact.
\qeds

%%%???Why is it complete???

\begin{thm}{Lifting Lemma}\label{lem:lift}
Let $X$ be a compact geodesic space, $Y$ a metric space and $f\:X\to Y$ a continuous map. Let $c\:[0,1]\to|X|_f$ be a rectifiable
path joining points $p$ and $q$ in $|X|_f$. Suppose that $\hat p$ and $\hat q$ are lifts of the points $p$ an $q$ to $X$.
Then for every $\eps>0$ there exists a piecewise geodesic path $\hat c\:[0,1]\to X$ joining $\hat p$ to $\hat q$ such that 
\[|\pi_f\circ\hat c(t)-c(t)|_f<\eps\ \text{for all}\ t\in[0,1].\]
\end{thm}

\parit{Proof.}
Since $\|X\|_f$ is a geodesic space, 
by Corollary \ref{cor:geospace} it is enough to consider the case where $c$ is a geodesic.
Given $\eps>0$ denote $U_\eps$ the open $\eps$-neighborhood of $c([0,1])$ and choose times $0=t_0<t_1<\ldots<t_k=1$ 
such that $|c(t_i)-c(t_{i+1})|_f<\frac{\eps}{2}$. Choose arbitrary lifts $\hat c(t_i)$ of the points
$c(t_i)$ for $i\in\{1,\ldots,k-1\}$.
By Lemma \ref{lem:picont}, we find open connected sets $C_i\subset X$ containing $\hat c(t_i)$ and $\hat c(t_{i+1})$ with
$\diam f(C_i)<\eps$. 
In particular $\pi_f(C_i)\subset U_\eps$. 
To finish the proof we join $\hat c(t_i)$ and $\hat c(t_{i+1})$ by piecewise geodesics
 in $C_i$.
\qeds

\begin{thm}{Corollary}\label{cor:connecedpreimage}
Let $X$ be a compact geodesic space, $Y$ a metric space and $f\:X\to Y$ a continuous map. Then
the inverse image under $\pi_f$ of an open connected subset $C$ of $|X|_f$  is pathconnected in $X$.
\end{thm}
\parit{Proof.}
Let $C$ be an open connected subset of $|X|_f$. 
By Lemma \ref{lem:picont}, $|X|_f$ is locally pathconnected and therefore
$C$ is pathconnected. Hence the claim follows from the Lifting Lemma \ref{lem:lift}.
\qeds

\begin{thm}{Corollary}\label{cor:fiberconnected}
Let $X$ be a compact geodesic space, $Y$ a metric space and $f\:X\to Y$ a continuous map. Then
for every point $y\in Y$ the fiber $\pi_f^{-1}(y)$ is connected.
\end{thm}
\parit{Proof.}
Let $p$ be a point in $\pi_f^{-1}(y)$ and denote its connected component by $C_p$. 
If the fiber is not connected, then there is an
open neighbourhood $\tilde U$ of $C_p$ disjoint from all other components. Since the fiber is closed we get that $\pi_f^{-1}(y)-C_p$
is closed as well. Hence there exist open neighborhoods $U$ and $V$ of $C_p$ and $\pi_f^{-1}(y)-C_p$ respectively with $U\cap V=\emptyset$.
Now pick a point $q$ in  $\pi_f^{-1}(y)-C_p$. Since  $X$ is a geodesic space, it follows from Lemma \ref{lem:picont} that we can find a sequence
of paths $\gamma_k\:[0,1]\to X$ connecting $p$ and $q$ and with $\diam f\circ\gamma_k([0,1])<\frac{1}{k}$. For every $k\in\mathcal{N}$ we choose a point 
$z_k\in f\circ\gamma_k([0,1])$ disjoint from $U\cup V$. Since $X$ is compact, the sequence $(z_k)$ subconverges to a point in $\pi_f^{-1}(y)$, a contradiction.
\qeds

\begin{thm}{Lemma}\label{lem:idem}
Let $X$ be a compact geodesic space, $Y$ a metric spaces and $f\:X\to Y$ a continuous map. Then for any map $s\:|X|_f\to Y$ holds
\[|X|_{s\circ\pi_f}\cong||X|_{f}|_s.\]
In particular $|X|_{f}\cong||X|_{f}|_{\bar f}$. %???what is \bar f???
\end{thm}
\parit{Proof.}
Since $\pi_f$ is continuous, by Lemma \ref{lem:picont}, we see $|\pi_f(x)-\pi_f(y)|_s=0$ if $|x-y|_{s\circ\pi_f}=0$. 
Moreover, $\pi_f$ induces a surjective short map $\alpha\:|X|_{s\circ\pi_f}\to||X|_{f}|_s$. 
From Corollary \ref{cor:connecedpreimage} it follows that
 $\alpha$ is an isometry.
\qeds

\parbf{An alternative definition.}
If $f\:X\to Y$ is a continuous map between metric spaces $X$ and $Y$, then there is another pseudometric on $X$ induced by $f$. 
Namely set 
\[d_f(x,y)=\inf\{\length_Y(f\circ\gamma)|\ \gamma \text{ a path in } X\text{ connecting }x\text{ and }y\}.\]
Denote by $Z_f=X/\sim$ the quotient metric space. 
For the reasonable maps $Z_f$ is isometric to $\|X\|_f$,
but in general they might differ;
an example is given in \cite[4.2]{petrunin-intrinisic}.

We will discuss now the relation between the metrics $d_f$ and $\|*-*\|_f$.


\begin{thm}{Lemma}\label{lem:intrinsicmetric}
Let $X$ and $Y$ be metric spaces, $f\:X\to Y$ a continuous map and $\gamma$ a curve in $X$. Then $f\circ\gamma$
is rectifiable if and only if $\pi_f\circ\gamma$ is rectifiable; and in this case $\length_Y(f\circ\gamma)=\length_{|X|_f}(\pi_f(\gamma))$.
In particular, $\bar f$ preserves the lengths of all rectifiable curves $\pi_f(\gamma)$ with $\gamma$ a curve in $X$.
\end{thm}
\parit{Proof.}
Let $\gamma\:[a,b]\to X$ be a continuous curve.
Since $\bar f\:|X|_f\to Y$ is short, we have $\length_Y(f\circ \gamma)\leq\length_{|X|_f}(\pi_f(\gamma))$. On the other hand,
if $\length_Y(f\circ \gamma)$ is finite, then for every finite partition ${a=t_0<t_1<\ldots t_k=b}$ of $[a,b]$ we have
\[\length_Y(f\circ \gamma)=\sum_{i=0}^{k-1}\length_Y(f\circ \gamma|_{[t_i,t_{i+1}]})\geq\sum_{i=0}^{k-1}|\gamma(t_i)-\gamma(t_{i+1})|_f.\]
Hence $\length_Y(f\circ \gamma)\geq\length_{|X|_f}(\pi_f(\gamma))$.
\qeds

\begin{thm}{Corollary}\label{cor:reltolengthmetric}
Let $X$ be a compact geodesic space, $Y$ a metric space and $f\:X\to Y$ a continuous map. Then there is a surjective length preserving map
$\alpha\:Z_f\to\|X\|_f$ induced by the quotient maps. 
If $f$ is injective, then $\alpha$ is an isometry and both spaces are isometric to
to the image $f(X)$ in $Y$ equipped with induced intrinsic metric.
\end{thm}
\parit{Proof.}
The claim follows directly from Lemma \ref{lem:intrinsicmetric}.
\qeds


\section{Metric minimizing maps}\label{Metric minimizing maps}
Given two maps $f,h\:X\to Y$ we will write $f\succcurlyeq h$ if 
\[\|x-y\|_f\ge \|x-y\|_h\]
for any pair of points $x,y\in X$.
We will write $f\succ h$ 
if in addition the inequality is strict for at least one pair of points.


Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.

The map $f\:X\to Y$ is called \emph{metric minimizing relative to $A$}
if there is no map $h\:X\to Y$ such that $f\succ h$
and $h$ agrees with $f$ on $A$;
that is, $h|_A=f|_A$.

We say that $f\:X\to Y$ is \emph{strictly metric minimizing relative to $A$}
if there is no map $h\:X\to Y$ distinct from $f$
such that $f\succcurlyeq h$, 
and $h|_A=f|_A$.

\begin{thm}{Proposition}\label{prop:memicrit}
Let $X$ be a compact geodesic space, $Y$ a metric space 
and $A\subset X$ a closed subset.
Let $f\:X\to Y$ be a continuous map. Then $f$ is metric minimizing relative to $A$
if and only if $\bar f$ is metric minimizing relative to $\pi_f(A)$.
\end{thm}

\parit{Proof.}
Assume that $f$ is metric minimizing relative to $A$ but there is a map $s\:|X|_f\to Y$ with $\bar f\succ s$. 
Then there is a surjective short map $\||X|_f\|_{\bar f}\to\||X|_f\|_s$ which strictly
contracts the distance of at least one pair of points. This is a contradiction because $s\circ\pi_f|_A=f|_A$ and, by Lemma \ref{lem:idem}, 
$\||X|_f\|_{\bar f}\cong\|X\|_f$ and $\||X|_f\|_s\cong\|X\|_{s\circ\pi_f}$. 

If on the other hand $\bar f$ is metric minimizing relative to $\pi_f(A)$ but there exists a map $s\:X\to Y$ with $f\succ s$,
then there is a surjective short map $\alpha\:\|X\|_f\to\|X\|_s$ which strictly
contracts the distance of at least one pair of points and such that $\pi_s=\alpha\circ\pi_f$. 
Again, by Lemma \ref{lem:idem}, we have  $\||X|_f\|_{\bar f}\cong\|X\|_f$ and $\||X|_f\|_s\cong\|X\|_{\bar s\circ\alpha}$, a contradiction. 
\qeds

\begin{thm}{Proposition}\label{prop:point-complement}
Let $X$ and $Y$ be metric spaces and $A\subset X$ be a closed subset.
Assume $X$ is connected and $f\:X\to Y$ is a metric minimizing map relative to $A$.
Then for any point $x\in X$ any connected component of $X\backslash [x]_f$ intersects $A$.

\end{thm}

\parit{Proof.}
Assume the contrary.
Denote by $W$ the connected component of $X\backslash [x]_f$ such that $A\cap W=\emptyset$.
Let us define the new map $h\:X\to\ Y$ by setting $h(z)=f(x)$ for any $z\in W$ and $h(z)=f(z)$ for any $z\notin W$.

By construction $f$ and $h$ agree on $A$ and $f\succcurlyeq h$.

Note that $\|x-y\|_f>0=\|x-y\|_h$ for any $y\in W$.
Therefore $f\succ h$, a contradiction.
\qeds



\section{Metric minimizing graphs}\label{Metric minimizing graphs}



\begin{thm}{Proposition}\label{prop:memigraph}
Assume $\Gamma$ is a  finite graph and $A$ is a subset of its vertices.
Let $Y\in\CAT[0]$ and $f\:\Gamma\to Y$ be an arbitrary map.
Then there is a metric minimizing map $f'\:\Gamma\to Y$ relative to $A$ such that
$f'|_A=f|_A$ and 
$f\succcurlyeq f'$.
\end{thm} 

\parit{Proof.} 
Given a map $h\:\Gamma\to Y$, denote its total length by $\length h$.
That is, if $e_1,\dots,e_k$ be the edges of $\Gamma$ 
then each restriction $h|_{e_i}$ is a curve and
\[\length h
\df
\sum\length(h|_{e_i}).\]

Note that there is a sequence of maps $f_n\:\Gamma\to Y$
such that (1)
$f=f_0\succcurlyeq f_1\succcurlyeq\dots$, (2) $f_n|_A=f|_A$ for each $n$ and (3) if for some $h\:\Gamma\to Y$ we have $h|_A=f|_A$ and $f_n\succ h$ for each $n$ then 
\[\length h=\lim_{n\to\infty}\length f_n.\]

Indeed, the sequence $f_n$ can be chosen so that
\[\length f_n-\tfrac1n
<
\inf\set{\length h}{f_{n-1}\succcurlyeq h,\ h|_A=f|_A},\]
where $\length f_n$ denotes the sum of lengths of all edges of $\Gamma$. %???BETTER WORDING??? 
Since $f_n\succ h$ implies $\length f_n>\length h$, 
the conditions above hold.

Fix a non-principal ultra-filter $\omega$ on the set of natural numbers.
Let $Y^\omega$ be the ultra-power of $Y$;
recall that $Y$ can be (and will be) considered as a subspace of $Y^\omega$.
Pass to the ultra-limit $f_\omega\:\Gamma\to Y^\omega$ 
of $f_n\:\Gamma\to Y$.
Note that $f_\omega$ is a metric minimizing map.

It remains to show that $f_\omega(\Gamma)\subset Y$.
Assume the contrary, then there is a subsequence of $f_n$ which $\omega$-converges to a metric minimizing map, say $v_\omega\:\Gamma\to Y^\omega$ distinct from $f_\omega$.
Denote by $g_\omega(x)$ the midpoint of $[v_\omega(x)f_\omega(x)]$.
Note that $f_\omega\succ g_\omega$ and $g_\omega|_A=f|_A$, a contradiction.
\qeds

\begin{thm}{Proposition}\label{prop:metric-min-graph}
Let $Y$ be a $\CAT[0]$ space, 
$\Gamma$ a finite  graph and $A$ a subset of its vertices.
Assume $f\:\Gamma\to Y$ is metric minimizing relative to $A$.
Then
\begin{itemize}
\item each edge of $\Gamma$ maps to a geodesic
\item for any vertex $v\notin A$ and any $x\ne f(v)$
there is an edge  $[vw]$ in $\Gamma$ such that
$\measuredangle[f(v)^{f(w)}_x]\ge \tfrac\pi2$.
\end{itemize}
Moreover, $f$ is strictly metric minimizing relative to $A$. 
\end{thm}

\begin{wrapfigure}{r}{22 mm}
\begin{lpic}[t(-0 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/not-sufficient(1)}
%\lbl[lb]{12.5,11;$W_0$}}
\end{lpic}
\end{wrapfigure}

As one may see from the diagram,
the two conditions in the proposition do not guarantee that the map $f$ is metric minimizing,
the solid points form the set $A$.

\parit{Proof.}
The first condition is clear.

Assume the second condition does not hold at a vertex $v\notin A$;
that is, there is a point $x\in Y$ such that
$\measuredangle[f(v)^{f(w)}_x]< \tfrac\pi2$
for any adjacent vertex $w$.
In this case moving $f(v)$ toward $x$ along $[f(v)x]$ decrease the lengths of all edges adjacent to $v$, a contradiction.

To prove the last statement, assume there is a map $f'$ distinct from $f$ such that $f|_A=f'|_A$ and $f\succcurlyeq f'$.
Denote by $g(x)$ the midpoint of $f(x)$ and $f'(x)$ for any $x\in \Gamma$. 
By comparison $f\succcurlyeq g$.
It follows that the tautological map $\|\Gamma\|_f\to \|\Gamma\|_g$ is an isometry.
The later implies that the distance $|f(v)-g(v)|$ is the same for all the vertices $v$ in $\Gamma$.
Since we have $|f(v)-g(v)|=0$ for any $v\in A$,
we get $f(v)=g(v)$ for any vertex $v$ in $\Gamma$.
Hence $f=f'$, a contradiction.
\qeds

Assume $\Gamma$ is a finite graph embedded in the plane $\RR^2$;
in particular $\Gamma$ is planar.

The complement to the unbounded connected component of $\RR^2\backslash\Gamma$ will be called filling of $\Gamma$;
it will be denoted as $\Fill\Gamma$.

The vertex of $\Gamma$ will be called \emph{boundary vertex}
if it lies in the boundary $\partial_{\RR^2}[\Fill\Gamma]$,
otherwise it will be called \emph{interior vertex}.

\begin{thm}{Corollary}\label{cor:planar-minimizing-graph}
Let $Y$ be a $\CAT[0]$ space and
$\Gamma$ an embedded finite graph in $\RR^2$.
Assume $f\:\Gamma\to Y$ is a metric minimizing map relative to the boundary vertices. 
Then $\|\Gamma\|_f$ is a planar graph and
$\Fill\|\Gamma\|_f$ is a disc retract which supports a $\CAT[0]$ metric such that 
 $\bar f$ extends to a short map $\hat f\:\Fill\|\Gamma\|_f\to Y$.
\end{thm}

%??? Fill\|\Gamma\|_f --- bit too much and overdefining

\parit{Proof.}
By Corollary \ref{cor:fiberconnected}, the fibers of $\pi_f$ are connected. Hence $|\Gamma|_f$ is 
a planar graph and so is $\|\Gamma\|_f$.


Fix a cycle $\gamma$ in $\|\Gamma\|_f$ which bounds one of the discs in the complement $\RR^2\backslash \|\Gamma\|_f$.
Set $\ell=\length \bar f\circ\gamma$.

By Reshetnyak's majorization theorem, there is a convex polygon $P$ (possibly degenerate) with perimeter $\ell$ which admits 
a short map to $Y$ in such a way that $\bar f\circ\gamma$ is formed by the image of the boundary.
Note that each angle of $P$ is at least as big as 
the angle between the corresponding edges.

Prepare a polygon as above for each disc in the complement of $\|\Gamma\|_f$
and glue these polygons into $\|\Gamma\|_f$ along the natural map.
The obtained space $D$ is simply connected.
Therefore in order to show that $D$ is $\CAT[0]$,
we need to check that the sum of the angles around each interior vertex in $\|\Gamma\|_f$ is at least $2\cdot\pi$.


Assume the contrary, that is, 
the sum of the angles around a fixed interior vertex $v$ is less than $2\cdot\pi$.
The space of directions $\Sigma_{f(v)}$ is a $\CAT[1]$ space.
The directions of the edges from $v$ have a natural
cyclic order say $\xi_1,\dots,\xi_k$
such that
\[\measuredangle(\xi_1,\xi_2)+\dots+\measuredangle(\xi_k,\xi_1)<2\cdot\pi.\]
By Reshetnyak's majorization theorem,
the closed broken line $\xi_1,\dots,\xi_k$ is majorized by a convex spherical polygon $P$.
Note that $P$ lies in an open hemisphere with the pole  at some point in $P$.
Choose $x\in Y$ so that the direction form $f(v)$ to $x$ coincides with the image of the pole in $\Sigma_{f(v)}$.
This choice of $x$ contradicts the condition in Proposition~\ref{prop:metric-min-graph}.

The short maps from Reshetnyak's majorization theorem fit together to yield the required extension $\hat f$ of $\bar f$.
\qeds







\section{Metric minimizing discs}\label{Metric minimizing discs}



Let us denote by $\DD$ the closed unit disc in the plane,
its boundary $\partial \DD$ is a unit circle.

Let $X$ be a Hausdorff space and
$f\:\DD\to X$ be a continuous map.
We say that $f$ has \emph{no bubbles}\label{page:no-bubble}
if for any point $p\in X$ every connected component of the complement $\DD\backslash f^{-1}\{p\}$ contains a point from $\partial \DD$.

The following topological notion will be important throughout the text.

\begin{thm}{Definition}
A compact simply connected topological space which admits an embedding into the plane is 
called a \emph{disc retract}. 
\end{thm}




We will need the following disc version of Moore's theorem \cite{moore} proved in \cite{LW3}.

\begin{thm}{Proposition}\label{prop:disc-moore}
Let $Y$ be a metric space and a map
$f\:\DD\to X$ has no bubbles.
Then $|\DD|_f$ is homeomorphic to a disc retract. Moreover, if $f|_{\partial\DD}$ is 
an embedding, then $|\DD|_f$ is homeomorphic to a disc.
\end{thm}


\parit{Proof.}
Form Lemma \ref{lem:picont} we know that $\pi_f$ is continuous and hence $|\DD|_f$
is a compact metric space. 
The fibers of $\pi_f$ are connected by Corollary \ref{cor:fiberconnected}.
Since $f$ is a no-bubble map, we see that $\pi_f$ is cell-like. 
Therefore, the first claim follows from 
Corollary 7.12 in \cite{LW3}.
The special case when $f|{\partial\DD}$ is an embedding follows then from the Schoenflies theorem.
\qeds

Given a disc retract $X$,
define its interior as a maximal open set which is homeomorphic to an open set in the plane.
By the Invariance of Domain theorem, the interior is well defined.
The complement to the interior of $X$ will be called boundary and denoted as $\partial X$.

Applying \ref{prop:point-complement} and \ref{prop:disc-moore}, we get the following.

\begin{thm}{Proposition}\label{prop:|D|}
Let $f\:\DD\to\ Y$ be a continuous metric minimizing map relative to $\partial \DD$.
Then $f$ has no bubbles.

In particular,  $|\DD|_f$ is homeomorphic to a disc retract. 
In case $f|_{\partial\DD}$ is an
embedding it is homeomorphic to a disc.
Moreover $\partial|\DD|_f$ is the image of $\partial \DD$
under the map $\pi_f$.
\end{thm}

Recall that the metric minimizing map $f\:\DD\to\ Y$ factors through a map \[\bar f\:|\DD|_f\to Y.\]
By \ref{prop:memicrit} and \ref{prop:|D|} 
the map $\bar f$
is metric minimizing relative to $\partial|\DD|_f$.











\section{Key Lemma}\label{Key Lemma}


\begin{thm}{Key Lemma}\label{lem:key}
Let $Y$ be a $\CAT[0]$ space and $s\:\DD\to Y$ 
be a metric minimizing disc relative to the boundary $\partial \DD$.
Given a finite set $F\subset \|\DD\|_s$ such that $\|x-y\|_s<\infty$ for each pair $x,y$ of points in $F$
there is 
(1) a $\CAT[0]$ space $W$, which is a disc retract,
and (2) short maps $p\:F\to W$ and $q\:W\to Y$ such that
\[\bar s(x)=q\circ p(x)\] 
for any $x\in F\cap \partial |\DD|_s$
and 
\[\|p(x)-p(y)\|_q\le \|x-y\|_s\] 
for any $x,y\in F$.
\end{thm}

\parit{Proof.}
Let us connect each pair $x,y$ of points in $F$ by geodesics.

We can assume that 
every pair of the constructed geodesics 
are either disjoint, or their intersection is formed by finite collections of arcs and points.

Indeed, if some number of geodesics $\gamma_1,\dots,\gamma_n$ has this property and we are given points $x$ and $y$, then
we choose a minimizing geodesic $\gamma_{n+1}$ from $x$ to $y$ which maximizes the time it spends in $\gamma_1,\dots,\gamma_n$  in the order of importance.
Namely, 
\begin{itemize}
\item  among all minimizing geodesics connecting $x$ to $y$
choose one which spends maximal time in $\gamma_1$ --- in this case $\gamma_{n+1}$ intesects $\gamma_1$ along the empty set, one-point set or a closed arc.
\item among all minimizing geodesics as above
choose one which spends maximal time in $\gamma_2$ --- in this case $\gamma_{n+1}$ intesects $\gamma_2$ along at most two arcs and points.
\item and so on.
\end{itemize}

%IT SHOULD BE POSSIBLE TO ENSURE THAT INTERSECTION OF ANY TWO GEODESIC IS EMPTY OR CONNECTED, BUT I FAILED TO MAKE IT FORMALLY???

In particular the set of all these geodesics forms a finite graph, say $\Gamma$,
embedded in $|\DD|_s$. 

According to Proposition~\ref{prop:|D|},
$|\DD|_s$ admits an embedding into the plane.
Therefore $\Gamma$ can be considered as a graph embedded into the plane.
By Proposition \ref{prop:memigraph}, there is a map $u\:\Gamma\to Y$ metric minimizing relative to $\Gamma\cap\partial|\DD|_{\bar s}$ with
$\bar s|_\Gamma\succcurlyeq u$. Hence there is a short map $\alpha\:\|\Gamma\|_{\bar s|_\Gamma}\to\|\Gamma\|_u$. 
By Corollary~\ref{cor:planar-minimizing-graph} there is a $\CAT[0]$ disc retract $W$, a length preserving embedding
$\|\Gamma\|_u\hookrightarrow W$ and a map $\hat u\:W\to Y$ extending $\bar u$. %???why not to say that q= \hat u???
Set $p=\alpha|_F$ and $q=\hat u$.
\qeds

\section{Compactness of planar CAT[0] spaces}\label{Compactness}

Let $\mathcal{K}_\ell$ be the set of isometry classes of $\CAT[0]$ metrics on a disc retract with rectifiable
boundary curves of length at most $\ell$.


Here is the main statement in this section.

\begin{thm}{Compactness lemma}\label{lem:compact}
$\mathcal{K}_\ell$ is compact in the Gromov--Hausdorff topology.
\end{thm}

It follows immediately from Lemmas \ref{lem:precompact} and \ref{lem:closed} proven below.

\begin{thm}{Lemma}\label{lem:precompact}
$\mathcal{K}_\ell$ is precompact in the Gromov--Hausdorff topology.
\end{thm}

Further $\area K$ denotes the two-dimensional Hausdorff measure of a metric space $K$. 

\parit{Proof.}
Let $K$ be a metric space with metric $d$ and isometry class in $\mathcal {K}_\ell$.
By Reshetnyak's theorem there is a short map from a convex plane figure $F$ with perimeter at most $\ell$ onto $K$.
In particular, $\area K \le \area F \le \tfrac{\ell^2}{4\pi}$.

Fix $\eps>0$. 
Set $m=\lceil 10\cdot\tfrac\ell\eps\rceil$.
Choose $m$ points $y_1,\dots,y_m$ on $\partial K$
which divide $\partial K$ into arcs of equal length.

Consider the maximal set of points $\{x_1,\dots,x_n\}$ such that $d(x_i,x_j)>\eps$ and $d(x_i,y_j)>\eps$.

Note that the set $\{x_1,\dots,x_n,y_1,\dots,y_m\}$
forms an $\eps$-net in $(K,d)$.

Further note that the balls $B_i=B_{\eps/2}(x_i)$
do not overlap.
By comparison,
\[\area B_i\ge \tfrac{\pi\cdot\eps^2}{4}.\]

It follows that $n\le \tfrac{1}{\pi^2}\cdot\left(\tfrac\ell\eps\right)^2$.
That is, there is a integer valued function $N(\eps)$,
such that for  
$(K,d)$ contains an $\eps$-net
with at most $N(\eps)$ points.

In other words, $\mathcal{K}_\ell$ is uniformly totally bounded.
Any class of metrics with this property is precompact in Gromov--Hausdorff topology; 
see for example \cite[7.4.15]{BBI}.
\qeds





\begin{thm}{Lemma}\label{lem:closed}
$\mathcal{K}_\ell$ is closed in the Gromov--Hausdorff topology.
\end{thm}

\parit{Proof.}
Let $(X_n)$ be a sequence in $\mathcal{K}_\ell$ with $X_n\to X_\infty$. 
Set $r_n=\frac{\length\partial X_n}{2\pi}$ 
and $B_n=B_{r_n}(0)\subset \mathbb{R}^2$.
Let $\gamma_n:\partial B_n\to\partial X_\infty$ be an arc length parametrization. Choose a point $p_n\in X_n$ with $X_n\subset B_{r_n}(p_n)$ and define
$f_n:B_n\to X_n$ by sending the geodesic $[0\theta]$ for $\theta\in\partial B_n$ to the geodesic $[p_n\gamma_n(\theta)]$ with constant speed. Note that $f_n$ is short.
We obtain a limit map $f_\infty:B_\infty\to X_\infty$ which is short and maps radial geodesics in $B_\infty$ to geodesics in $X_\infty$ joining the limit point $p_\infty$
to a boundary point. Note that if two points $x$  and $y$ map to the same point $q$ under $f_\infty$, then $q$ is a branch point in $X_\infty$ and there is a path $c$ connecting 
$x$ and $y$ which also maps to $q$. 
In particular, $f^{-1}(q)$ is connected. On the other hand, since we can lift radial geodesics from $X_\infty$ to $B_\infty$ we see that $X_\infty-f^{-1}(q)$
is connected as well. As in Proposition~\ref{prop:disc-moore} the claim now follows from Moore's theorem in \cite{moore}.
\qeds


\section{Two-dimensional case}\label{Shefel}

Let $W$ be a metric space.
A continuous map $s\:\DD\to W$ is called \emph{saddle} if for any closed convex subset $K\subset W$ it holds that
the boundary $\partial \DD$ intersects
any connected component of $\DD\backslash s^{-1}(K)$.

Applying this definition to one-point sets,
we get that any saddle map has no bubbles, 
as defined on page \ref{page:no-bubble}.


\begin{thm}{Proposition}\label{prop:memisaddle}
Let $W$ be a $\CAT[0]$ space. Then any continuous metric minimizing map $s\:\DD\to W$ is saddle.
\end{thm}

\parit{Proof.}
Assume the contrary, let $K$ be a closed convex set in $W$
and $\Omega$ be a violating component of the complement $\DD\backslash s^{-1}(K)$. 
Redefine $s$ for each $x\in\Omega$ by moving 
$s(x)$ to its closest point projection on $K$.
Denote by $s'$ the new map. 

Since $K$ is closed and convex, the nearest point projection onto $K$ is short.
Hence $s'$ is also continuous and metric minimizing. 
It remains to apply Corollary \ref{cor:strict-mm}.
\qeds

 






\begin{thm}{Shefel's theorem}\label{thm:shefel-2D}
Let $W$ be a $\CAT[0]$ space which is a disc retract.
Assume $s\:\DD\to W$ is a saddle map. 
Then $\|\DD\|_s$ is $\CAT[0]$.
\end{thm}

The statement above is a slight generalization of a theorem proved by Shefel in \cite{shefel-2D};
originally it was proved if the ambient space is the plane and we need it for disc retracts.
The proof below is roughly the same as the original.
However, Shefel's proof was written very tight
and we have decided to provide all details.


\begin{thm}{Lemma}\label{lem:extension}
Let $W$ be a $\CAT[0]$ disc retract. 
Then any geodesic segment in $W$ can be extended to a geodesic between points in $\partial W$.
\end{thm}

\parit{Proof.}
It is enough to show that a geodesic segment $[pq]$ extends beyond $q$ if $q$ is an interior point of $W$.
Choose a neighborhood $A$ of $q$ which is homeomorphic to a closed disc and such that the boundary $\partial A$
intersects $[pq]$ in a point $z\neq q$. Then the geodesic cone from $z$ over $\partial A$ covers $A$ because $\partial A$
is not contractible in $W-\{x\}$ for any $x$ in the interior of $A$. 
In particular, $[pq]$ extends beyond $q$ to the boundary of
$A$.
\qeds

Note that since $W$ is a disc retract, its boundary $\partial W$ is compact. 
Therefore
the space $\Geod(W)$ of geodesic segments with endpoints on $\partial W$ is compact as well.

\begin{thm}{Lemma}\label{lem:sepbygeo}
Let $W$ be a $\CAT[0]$  disc retract. 
If $K\subset W$ is a closed convex subset and $p$ is a
point in $W\backslash K$, then there is a (possibly degenerated) geodesic $\sigma\in\Geod(W)$ which separates $p$ and $K$;
that is, $K$ and $p$ lie in the different connected components of $W\backslash \sigma$.

Moreover one can assume that $\sigma$ lies in a given countable dense subset $\mathcal{G}$
of $\Geod(W)$.
\end{thm}

This lemma is analogous to the following statement in plane geometry: \emph{any closed convex set in the plane is an intersection of open half planes}.

\begin{wrapfigure}{r}{34 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/K-p(1)}
\lbl[]{5,10;$W$}
\lbl[]{14,12;$K$}
\lbl[tl]{28,14;$p$}
\lbl[tr]{26,7;$x$}
\lbl[br]{22.5,13;$y$}
\lbl[tl]{18.5,10.5;$q$}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
Let $q$ be the nearest point projection of $p$ onto $K$.

Assume there is point $x\not\in [pq]$ which lies sufficiently close to the midpoint of $[pq]$.
Then the nearest point projection $y$ of $x$ onto $[pq]$ lies in the interior of $[pq]$.
By Lemma~\ref{lem:extension},
we can extend the geodesic $[xy]$ to a geodesic $\sigma$ in $\Geod(W)$.
Note that $\sigma$ separates $K$ from $p$.

If there is no point $x\not\in [pq]$ which lies sufficiently close to the midpoint of $[pq]$
then the midpoint $m$ of $[pq]$ separates $K$ from $p$.
This point forms a degenerate geodesic from $\Geod W$.

It remains to prove the last statement.

If $\sigma$ is not degenerate then any geodesic from $\mathcal{G}$ which is sufficiently close $\sigma$ also separates $K$ from $p$.
In the degenerate case all the, 
the point $m$ separates $K$ from $p$ 
and the same holds for any geodesic from $\Geod(W)$ sufficiently close to $m$ which goes from one of connected component of $W\backslash\{m\}$ to another.
The latter  set is open in $\Geod(W)$.
Hence the result follows.
\qeds




\begin{thm}{Cutting hat lemma}\label{lem:cutting-hat}
Let 
$W$ be a $\CAT[0]$ space, 
$K\subset W$ be a closed convex set 
and $\eps>0$.
Assume $s\:\DD\to W$ is a saddle map 
and $u\:\DD\to W$ is a continuous map such that 
\[|s(x)-u(x)|<\eps\]
and $u(x)\in K$ for any point in the boundary of some open set $\Omega\subset \DD$.

Then there is a continuous map $v\:\DD\to K$ such that 
\begin{enumerate}[(i)]
\item $|s(x)-v(x)|<\eps$ holds for any $x\in\DD$.
\item $u(x)=v(x)$ for any $x\notin\Omega$ and
$v(x)\in K$ for any $x\in\Omega$.
\end{enumerate}

Moreover,
\begin{enumerate}[(i)]
\addtocounter{enumi}{2}
\item we can assume that \[v(\Omega)\subset \Conv u(\partial\Omega),\]
where $\Conv S$ denotes the minimal closed convex set containing $S$.
\item\label{lem:cutting-hat:b} if $u$ has no bubbles, we can assume that the constructed map $v$ has no bubbles.
\end{enumerate}
\end{thm}

\parit{Proof.}
Let $\pi\:W\to K$ denote the closest point projection of $W$ onto $K$. Note that $\pi$
is a short map. Choose an open neighborhood $U$ of $\partial \Omega$ such that 
$|s(x)-\pi\circ u(x)|<\eps$ for $x\in U$. The assumptions imply that $s(\Omega)$ is 
contained in the $\eps$-neighborhood of $K$;
that is, $|s(x)-\pi\circ s(x)|<\eps$ for $x\in\Omega$.
It follows that for points in $U$ the geodesic segment $[\pi\circ s(x)\pi\circ u(x)]$ is contained in the $\eps$-ball
around $s(x)$. Fix a continuous function $\lambda\:\Omega\to [0,1]$
which is equal to $1$ on $\partial \Omega$ and has support in $U$.
For $x\notin \Omega$ set $v(x)=u(x)$ and if 
$x\in \Omega$, set $v(x)$ to be the point which divides the geodesic $[\pi\circ s(x)\pi\circ u(x)]$
at proportion $\lambda(x)$. By construction $v$ satisfies both conditions.

Finally note that $\Conv u(\partial\Omega)\subset K$. 
Therefore we obtain statement (a) 
by applying the lemma for the convex set $K'=\Conv u(\partial\Omega)$.

To prove (\ref{lem:cutting-hat:b}), we need to remove bubbles form the constructed map $v$.
Namely for any $x$ we can choose a maximal open set $\Upsilon_x$ such that for some point $p\in W$ the complement $\DD\backslash v^{-1}\{p\}$ has $\Upsilon_x$ as a
connected component with no points from $\partial \DD$.
Redefine $v$ by setting $v(x)=p$.
\qeds

\begin{thm}{Lemma}\label{lem:isomtri}
Let $W$ be a $\CAT[0]$ disc retract. 
Let $\Delta$ be a triangle in the Euclidean plane
and $\Delta'$ a triangle in $W$. 
If $f\:\Delta\to \Delta'$ is a map which restricts to constant speed
parametrizations on each side, then it extends to a map 
$F\:\Conv(\Delta)\to \Conv(\Delta')$ between convex hulls which induces an isometry $\bar F\:\|\Conv(\Delta)\|_F\to \Conv(\Delta')$. 
\end{thm}

\parit{Proof.}
There are obvious cases, namely if $\Delta'$ is either embedded or contained in a single geodesic. 
For the general case, we observe that if we cut $\Delta$ into two triangles $\Delta^\pm$ by a geodesic which joins a vertex to its opposite side, and  
the claim is true for both triangles $\Delta^+$ and $\Delta^-$, then it is also true for $\Delta$. 

Now let us assume that $\Delta'$ is neither embedded nor contained
in a single geodesic. 
Then there is a vertex of $\Delta'$ such that the two adjacent sides have a maximal closed nontrivial interval in common. 
Choose a point $p$ in the interior
of a side of $\Delta$ which maps to an endpoint of this interval. 
Cut $\Delta$ into two triangles $\Delta^\pm$ by joining $p$ to its opposite vertex.
We obtain natural maps $f^\pm:\Delta^\pm\to\Delta'$ where one of them say $f^+$ is degenerated, in the sense that its image is contained in a side of $\Delta'$, and $f^-$ has 
a nondegenerated vertex, in the sense that the image of adjacent sides only intersect in the image of the vertex. 

Repeating this modification at most twice,
reduces the general case to the  obvious ones above.
\qeds

\begin{thm}{Lemma}\label{lem:puzzle-compact}
Let $W$ be a $\CAT[0]$ disc retract 
and $N$ a positive integer. 
Consider the class of metric spaces $\mathcal{S}_N$ 
which are homeomorphic to a disc retract
and can be covered isometrically by at most $N$ closed convex subsets of $W$.
Then $\mathcal{S}_N$ is compact in Gromov--Hausdorff topology.
\end{thm}

\parit{Proof.}
$\mathcal{S}_N$ is precompact by \cite[7.4.15]{BBI}. So let $Z$ be a limit space. Clearly, $Z$
is covered by at most $N$ closed convex subsets of 
$W$ and by Lemma \ref{lem:closed} it is homeomorphic to a disc retract.
\qeds

\begin{thm}{Lemma}\label{lem:proj-continuous}
Let $X$ be a metric space and $u\:\DD\to X$ a continuous map. Denote by $\pi\:\DD\to \|\DD\|_u$ the natural projection and
by $\bar u\:\|\DD\|_u\to X$ the induced map. Assume that $\DD$ has a decomposition $\DD=\bigcup_{n=1}^N C_n$ into a finite 
number of sets such that $\bar u$ embeds each $\pi(C_n)$ isometrically as a closed subset into $X$. Then $\pi$
is continuous.
\end{thm}

\parit{Proof.}
Let $x_k\to x$ be a converging sequence in $\DD$. 
After passing to a subsequence we may assume that all $x_k$ are contained in a single set $C_n$. 
By assumptions $u(x_k)\to u(x)\in u(C_n)=\bar u\circ \pi (C_n)$. 
Since $\bar u$ restricts to an isometry on $\pi(C_n)$, the claim follows.
\qeds

\parit{Proof of Shefel's theorem \ref{thm:shefel-2D}.}
Fix a fine triangulation $\tau$ of $\DD$.
Map the vertices of $\tau$ by $s$,
and extend to the 1-skeleton by mapping edges with constant speed to 
corresponding geodesics. Then use Lemma \ref{lem:isomtri} to extend the map to the whole disc.

The obtained map $u\:\DD\to W$ can be made arbitrary close to $s$ by choosing the triangulation fine enough.
Say given $\eps>0$ we can assume that 
\[|s(x)-u(x)|_X<\eps\eqlbl{eq:|s-u|<e}\]
for any $x\in\DD$.

Note that the image of each solid triangle $\triangle$
is the closed region bounded by the geodesic triangle in $W$ with the corresponding vertices.
Moreover,  $\|\triangle\|_u$ is isometric to the image $u(\triangle)$ by Lemma \ref{lem:isomtri}.
Denote by $N$ the number of triangles in $\tau$. Then, $\|\DD\|_u$ decomposes into $N$ convex sets which are mapped isometrically by the induced map
$\bar u$, in particular, $\|\DD\|_u$ belongs to $\mathcal{S}_N$.  

Recall that the space $\Geod(W)$ of all geodesics in $W$ with endpoints on $\partial W$ is compact. 
Fix a dense sequence of geodesics $\mathcal{G}=\{\gamma_1,\gamma_2,\ldots\}$ in $\Geod(W)$.
The geodesics form convex sets in $W$, so we can apply the Cutting hat lemma \ref{lem:cutting-hat}
recursively.
We obtain a sequence of maps, say $u=u_0,u_1,u_2,\ldots$ such that 
\[|u_n(x)-s(x)|<\eps\]
for any $x$.




Furthermore, each space $\|\DD\|_{u_n}$
belongs to $\mathcal{S}_N$ and has a decomposition into at most $N$ convex sets which are mapped isometrically by 
the induced map 
\[\bar u_n\:\|\DD\|_{u_n}\to W.\] 
There is a more precise description, namely each of the convex sets is 
obtained from one of the triangles in $\tau$ by applying cuts along the geodesics $\gamma_k$. 
In particular, the decompositions
are nested.

Since $\mathcal{S}_N$ is compact, we can pass to a partial limit of $\|\DD\|_{u_n}$ as $n\to\infty$,
say $Q_\eps$.
Denote by $w_\eps\:Q_\eps\to W$ the limit of the short maps $\bar u_n$.

\begin{thm}{Sublemma}
 The map $w_\eps$ is saddle.
\end{thm}

\parit{Proof.}
Assume that $w_\eps$ is not saddle. Then there is a closed convex subset $K\subset W$ such that $\DD-w_\eps^{-1}(K)$
has a component $U$ which is disjoint from $\partial \DD$. Choose a point $p$ in $U$. By Lemma \ref{lem:sepbygeo}, there is  
a geodesic $\gamma\in\Geod(W)$ which separates $w_\eps(p)$ and $K$.
Then there exists a disc $D$ in $U$ such that
$w_\eps(\partial D)$ and $w_\eps(p)$ lie in different components of $W-\gamma$. 
Choose $\delta>0$ 
such that the distance from $\gamma$ of $w_\eps(\partial D)$ and $w_\eps(p)$ is larger than $\delta$.
Then there is a natural number $M$ such that the distance from $\gamma$ of $\bar u_n(\partial D_n)$ and $\bar u_n(p_n)$ is larger than $\frac{\delta}{2}$
where $D_n$ and $p_n$ are lifts of $D$ respectively $p$.
By density of $\mathcal{G}$, there is a geodesic $\gamma_k\in \mathcal{G}$ with $k>M$ which has distance less than $\frac{\delta}{2}$ from $\gamma$. 
Hence $\bar u_k^{-1}(\gamma_k)$ separates $p_k$ from the boundary. 
By Lemma \ref{lem:proj-continuous}, the projection $\pi_k\:\DD\to \|\DD\|_{u_k}$ is continuous
and therefore $u_k^{-1}(\gamma_k)$ separates some lift $\hat p_k$ of $p_k$ from the boundary.
This is a contradiction because, by construction, $\gamma_k$ cannot cut a hat from $u_k$.
\qeds

\begin{thm}{Sublemma}
The space $Q_\eps$ is $\CAT[0]$. 
\end{thm}

\parit{Proof.}
It is enough to show that any point in the interior of $Q_\eps$ has a $\CAT[0]$ neighborhood.
We first show that the total angle around any such point, say $z\in Q_\eps$ is at least $2\cdot\pi$.
Since the decompositions of $\|\DD\|_{u_n}$ into convex subset of $W$ are nested for varying $n$, they
induce a unique such limit decomposition of $Q_\eps$. Moreover, $w_\eps$ restricts to an isometry on each 
of the convex sets occuring in this decomposition. Therefore, $w_\eps$ is a local radial isometry.
If the total angle at $z$ is too small, then $w_\eps(z)\notin\Conv [w_\eps (\partial\Omega)]$
for a small neighborhood $\Omega\ni w$ in $Q_\eps$. 
By Lemma \ref{lem:sepbygeo} we could cut a hat from $w_\eps$
in contradiction to $w_\eps$ beeing saddle.
To obtain a $\CAT[0]$ neighborhood of $z$, we first cut a small ball around $z$ into to halves using a geodesic through $z$.
Next observe that for a small enough radius we can cut both of this halves into sectors each of which is contained in a single convex set
from our decomposition. The claim follows from Reshetnyak's gluing theorem.
\qeds


Now, assume that the boundary of $\|\DD\|_s$ is rectifiable.
By the Lemma on compactness~\ref{lem:compact},
we can pass to a partial limit, say $Q_0$, of $Q_\eps$ as $\eps\to 0$ and denote $w_0\:Q_0\to W$ the limit map.
By construction, $Q_0$ is a $\CAT[0]$ disc retract which majorizes $\|\DD\|_s$,
that is the limit map lifts to a short map $Q_0\to \|\DD\|_s$ which maps $\partial Q_0$ onto  $\partial \|\DD\|_s$ in a length-preserving way.

Since $Q_0$ is a $\CAT[0]$ space, its boundary can be majorized by a convex figure in the plane.
Hence the same holds for $\|\DD\|_s$.

The same argument can be repeated for all disc retracts in $\|\DD\|_s$ with rectifiable boundary, in particular for all solid triangles in $\|\DD\|_s$.
Existence of majorization implies that all triangles in $\|\DD\|_s$ are thin, that is $\|\DD\|_s$ is $\CAT[0]$.
\qeds

\section{Main theorem}\label{Main theorem}

\begin{thm}{Main Theorem}\label{thm:main}
Let $Y$ be a $\CAT[0]$ space 
and $s\:\DD\to Y$ be a metric minimizing map relative to the boundary $\partial\DD$.
Assume $\|\DD\|_s$  is separable. 
Then each metric component of $\|\DD\|_s$ is a $\CAT[0]$ space. 
\end{thm}

\parit{Proof of Main theorem.}
From Corollary \ref{cor:geospace} we know that each metric component of $\|\DD\|_s$ is a complete geodesic space.
We can assume that $\|\DD\|_s$ is a metric space. Otherwise we treat each metric component 
individually.
In addition, it is sufficient to consider
the case that $\partial \|\DD\|_s$ is formed by a rectifiable simple closed curve.

Indeed, fix a triangle $\triangle$ in $\|\DD\|_s$. 
If the above case has been proven, 
then the closure of each connected open component bounded by $\triangle$ is $\CAT[0]$.
In particular $\triangle$ is thin.
Since $\triangle$ is arbitrary, the statement follows.


Given a finite set $F\subset \DD$,
denote by $\mathcal{W}_F$
the set of isometry classes of spaces $W$ which meet the conditions of the Key Lemma~\ref{lem:key}
for $F$;
according to Lemma~\ref{lem:key} $\mathcal{W}_F\ne\emptyset$.
Note that for two finite sets $F\subset F'$ in $\DD$,
we have $\mathcal{W}_F\supset \mathcal{W}_{F'}$.

According to the Lemma on compactness (\ref{lem:compact}) $\mathcal{W}_F$ is compact.
Therefore 
\[\mathcal{W}
=
\bigcap_{F}\mathcal{W}_F\ne \emptyset\]
where the intersection is taken over all finite subsets $F$ in $\DD$. 
%ALL? OR NESTED SEQUENCE EXHAUSTING A DENSE SET  --- I think it is true forl all???

Fix a space $W$ from $\mathcal{W}$
and a dense sequence of points $\mathcal{F}=\{x_1,x_2,\dots\}$ in $\|\DD\|_s$, 
such that its subsequence of points in $\partial \|\DD\|_s$ is
 also dense in $\partial \|\DD\|_s$.

Set $F_n=\{x_1,\dots,x_n\}$.
Denote by $p_n\:F_n\to W$ a short map provided by the Key Lemma~\ref{lem:key}.

Using a diagonal argument we can extract a short map 
\[p\:\mathcal{F}\to W.\]

Since $\mathcal{F}$ is dense in $\|\DD\|_s$,
the map $p$ can be extended to the whole space $\|\DD\|_s$ 
as a short map.
The obtained map will still be denoted as $p$.

Pass to an ultralimit $\mathfrak{q}$ of the short maps $q_n$ provided by the Key Lemma~\ref{lem:key}. The target of $\mathfrak{q}$ is an ultrapower  $\mathfrak{Y}$ of $Y$,
which is a $\CAT[0]$ space containing $Y$ as a convex subspace.
The closest point projection of $\mathfrak{q}$ to $Y$ will be denoted by $q$.
By construction, $q$ is short.


Summarizing, the space $W$ is a $\CAT[0]$ disc retract and
 there are two short maps 
$\|\DD\|_s\xrightarrow{p} W \xrightarrow{q} Y$
such that 
\[q\circ p|_{\partial|\DD|_s}=\bar s|_{\partial|\DD|_s}.\] 
Since $\bar s$ is metric minimizing (Proposition \ref{prop:memicrit}), both maps $p$ and $q$ are length preserving and metric minimizing.

It remains to apply Shefel's theorem \ref{thm:shefel-2D}.


\qeds



\parbf{Remark.} 
An argument similar to the the problem ``Saddle surface'' in \cite{petrunin-orthodox} can be used to show that the constructed map $p$ is injective. 
In particular $\|\DD\|_s$ is isometric to $W$.
Unfortunately the proof requires some regularity of $\|\DD\|_s$ which only follows from Shefel's theorem. 

Here is \emph{not a proof} of the statement above.
We say where we cheat in the footnote; 
it is hard (if at all possible) to fix its precise meaning.

\parit{Not a proof.} Assume  $w=p(x)=p(y)$ for distinct points $x,y\in\|\DD\|_s$
Note that  $w$ lies in the interior of $W$.
Choose a geodesic $\gamma$ which passes through $w$ and goes 
from boundary to boundary of $W$.
The inverse image $p^{-1}(\gamma)$ is a contractible set with two ends at $\partial\|\DD\|_s$, say $a$ and $b$.
In particular there is a well defined order of  points on $p^{-1}(\gamma)$.
We can assume that the points $a,x,y,b$ appear in the same order on $p^{-1}(\gamma)$.\footnote{This is where we are cheating: the inverse image $p^{-1}(\gamma)$ might be as terrible as psedoarc, where the order points has no sense.}

Note that there is a continuous one parameter family of geodesics $\gamma_t$ passing through $w$ with the ends at $\partial W$
such that $\gamma=\gamma_0$ and $\gamma_1$ is $\gamma$ with reversed parametrization.
Note that the order of $x$ and $y$ on $p^{-1}(\gamma_t)$ does not change in $t$.
On the other hand the orders on $\gamma_0$ and on $\gamma_1$ are opposite, a contradiction.\qeds 

\begin{thm}{Corollary}\label{cor:main}
Let $Y$ be a $\CAT[0]$ space 
and $s\:\DD\to Y$ be a continuous metric minimizing map relative to the boundary $\partial\DD$ such that $s|_{\partial\DD}$ is rectifiable.
Suppose that $\|\DD\|_s$  is separable. Then $\|\DD\|_s$ is a $\CAT[0]$ disc retract. 
If moreover  $s|_{\partial\DD}$ is an embedding,
then $\|\DD\|_s$ is a $\CAT[0]$ disc.
\end{thm}

\parit{Proof.}
By Proposition \ref{prop:|D|} $|\DD|_s$ is a disc retract in the general case, and a disc if $s|_{\partial\DD}$ is an embedding.
The identity map $\iota\:\|\DD\|_s\to |\DD|_s$ is continuous. Pick a point $p\in\partial\|\DD\|_s$ and consider the geodesic 
cone $C$ from $p$ over $\partial\|\DD\|_s$. Then $\iota|_C$ is surjective because otherwise there would be a point $q$ in the 
interior of $|\DD|_s$ such that $C$ defines a contraction of $\partial|\DD|_s$ in $|\DD|_s-\{q\}$. 
In particular $C=\|\DD\|_s$.
Since $C$ is the continuous image of a disc, we get that $\|\DD\|_s$ is compact and that $\iota$ is a homeomorphism.
\qeds













\section{Existence and uniqueness}\label{Existence and uniqueness}

Given two points $p_0$ and $p_1$ in a $\CAT[0]$ space $X$,
denote by $p_t$ the point $\gamma(t)$ on the 
the geodesic path $\gamma\:[0,1]\to X$ such that $\gamma(0)=p_0$ and $\gamma(1)=p_1$.

Note that the map $(p_0,p_1,t)\mapsto p_t$ is continuous.
Therefore given two continuous maps $f_0,f_1\:K\to X$,
the one parameter family of maps $f_t\:K\to X$ is a homotopy;
further it will be called \emph{geodesic homotopy}.

Let $\gamma_{0}, \gamma_1\:\II\to X$ be two rectifiable curves parametrized by arc length. 
We say that  $\gamma_{0}$ is {\em parallel} to $\gamma_{1}$, if the function $t\mapsto |\gamma_{0}(t)-\gamma_{1}(t)|_X$.


\begin{thm}{Lemma}\label{lem:parpaths}
Let $\gamma_0,\gamma_1\:[0,\ell]\to X$ be two rectifiable paths parametrized by arc length;
denote by $\gamma_t\:[0,\ell]\to X$ their geodesic homotopy. 
If 
\[\length\gamma_{\frac12}
=\length\gamma_0
=\length\gamma_1,\] 
then $\gamma_{0}$ and $\gamma_{1}$ are parallel. 
\end{thm}

\parit{Proof.}
%Ref to existance of |\dot\gamma_0(t)|???
From comparison, we get
\[2\cdot|\dot\gamma_{\frac12}(t)|^2
\le
|\dot\gamma_{0}(t)|^2
+|\dot\gamma_{0}(t)|^2
-\tfrac12\cdot(|\gamma_{0}(t)-\gamma_{1}(t)|')^2\] 
for almost all $t$.
It particular $|\dot\gamma_{\frac12}(t)|\le 1$.

By assumption, the length of $\gamma_{\frac12}$ equals $\ell$. 
Hence $|\dot\gamma_{\frac12}(t)|=1$ for almost all $t\in[0,\ell]$. 
In particular, $\gamma_{\frac12}$
is parametrized by arc length. 

It follows that $|\gamma_{0}(t)-\gamma_{1}(t)|'=0$ for almost all $t$.
Since the function $t\mapsto |\gamma_{0}(t)-\gamma_{1}(t)|$ is Lipschitz,
the latter  implies that $|\gamma_{0}(t)-\gamma_{1}(t)|$ does not depend on $t$.
That is, $\gamma_{0}$ and $\gamma_{1}$ are parallel.
\qeds

\parbf{Remark.}
In fact, it is possible to show in the above situation that the induced intrinsic metric on $[0,1]\times[0,\ell]$
for the map $(t,\tau)\mapsto \gamma_t(\tau)$ is a product metric.

\begin{thm}{Corollary}\label{cor:parpaths}
Let $\gamma_0,\gamma_1\:[0,1]\to X$ be two rectifiable paths both starting in a point $p\in X$ and of equal length $\ell>0$. 
If the lengths in their geodesic homotopy $\gamma_t$ is constant, then $\gamma_{0}=\gamma_{1}$.
\end{thm}

\begin{thm}{Uniqueness Theorem}\label{prop:strict-mm}
Let $X$ be a $\CAT[0]$ space and $s_0, s_1\:\DD\to X$ be continuous and metric minimizing relative to $\partial\DD$. 
If 
$\|\DD\|_{s_0}$ is isometric to $\|\DD\|_{s_1}$, then $s_0=s_1$.
\end{thm}

\parit{Proof.}
For $t\in[0,1]$ denote $s_t\:\DD\to X$ the map obtained by geodesic interpolation. 
Then
$\|\DD\|_{s_t}$ is isometric to $\|\DD\|_{s_0}$ for all $t\in[0,1]$. 
In particular, every $s_t$ is metric minimizing.
From Corollary \ref{cor:parpaths} we see that $s_0$ agrees with $s_1$ on every path $\gamma$ which starts
in $\partial\DD$ and has the property that $s_0\circ\gamma$ is rectifiable. 

Denote by $A\subset\DD$ the closure of the set of endpoints of such paths. 
Since $s_0$ and $s_1$ are continuous, we conclude $s_0|_{A}=s_1|_{A}$.

Let us show that $A=\DD$; assume contrary.
Note that the complement $U=\DD\backslash A$ is open. 
Let us redefine $s_0$ by sending all of $U$ to a point.
Denote by $s_1$ the obtained map.
Note that $s_1$
is still metric minimizing.

Fix a point $p\in U$.
Choose a path $\sigma\:[0,1]\to\DD$ connecting $p$ to $A$ and intersecting $A$ exactly the endpoint $\sigma(1)$. 
With respect to $s_1$ all points on $\sigma([0,1))$ have intrinsic distance equal to zero.  
Hence the same is true for all $s_0$. 
It follows that every $s_0$ is constant on $\sigma$.
The latter implies that $p\in A$, a contradiction.
\qeds



%MAYBE IT WILL BE A COR OR PART OF AN OTHER STATEMENT, BUT WE NEED IT???
\begin{thm}{Corollary}\label{cor:strict-mm}
Let  $X$ be a $\CAT[0]$ space and $s\:\DD\to X$ be continuous and metric minimizing relative to $\partial\DD$. 
Then $s$ is strictly metric minimizing.
\end{thm}



\section{Metric minimizing discs below given continuous ones}
In this section we give a criterion which allows to 
find continuous metric minimizing maps inside a given sublevel set defined by our partial order ``$\succcurlyeq$''.

\begin{thm}{Definition}(Intrinsic continuity)
A map $f\:Y\to Z$ from a metric space $Y$ to a metric space
 $Z$ is called
{\em intrinsically continuous}, if for every $y\in Y$ 
and every $\eps>0$ there
exists $\delta>0$ such that any  $y'\in Y$
with $|y-y'|<\delta$ can be connected to $y$ by a path $\gamma$ 
with $\length(f\circ\gamma)<\eps$.
\end{thm}

\parbf{Remarks.}
\begin{itemize}
 \item The main example of intrinsically continuous maps are Lipschitz
maps from length spaces to arbitrary metric spaces.
\item Restrictions of intrinsically continuous maps to compact sets are uniformly intrinsically continuous. %???I DID NOT GET THIS???
\item If a map $f\:Y\to Z$ is intrinsically continuous, then 
the natural projection $\pi_f\:Y\rightarrow \|Y\|_f$ is continuous. 
If, moreover, $Y$ is compact, then $\|Y\|_f$ equipped with the induced 
metric is a geodesic space.
\end{itemize}



\parbf{CAT[0] spaces.}
Let $X$ be a compact geodesic space and $Y$ a $\CAT[0]$ space. 
Fix a map $f\:X\to Y$.

For a subset $A\subset X$  we 
define its relative sublevel $\mathcal{S}(f)$ consisting of all maps $g\:X\to Y$
with $g|_{A}=f|_{A}$ and $f\succcurlyeq g$. 
If $f$ is intrinsically continuous as a map from $X$, then
so is every element in $\mathcal{S}(f)$. 

\begin{thm}{Proposition}\label{prop:exist}
If $X$ is a compact geodesic space and $Y$ a $\CAT[0]$ space, then for every subset $A\subset X$ and every intrinsically continuous map $f\:X\rightarrow Y$,
there is an intrinsically continuous  metric minimizing map $s\:X\rightarrow Y$
such that $f\succcurlyeq s$.
\end{thm}

%???THE PROOF IS AN OVERKILL, ISN'T IT???

\parit{Proof.}
Let $\mathcal{O}\subset\mathcal{S}(f)$ be a well-ordered subset with respect to ``$\succcurlyeq$''. 
Assume $\mathcal{O}$ does not have a minimum.
Note that
$$
\mathcal{F}=\{A\subset\mathcal{O}|\ \mathcal{O}-A\text{ has a lower bound in }\mathcal{O}\}.
$$
is filter.
Indeed, since $\mathcal{O}$ does not have a minimum and any point is a lower bound for the empty set.

Complete $\mathcal{F}$ to an ultrafilter $\omega$. Note that $\omega$ is non-principal since finite subsets have lower bounds.
Denote by $Y^\omega$ the ultrapower of $Y$. 
Then $Y^\omega$
is a $\CAT[0]$ space which contains $Y$ as a convex subset. 
The $\omega$-limit $s_\omega\:X\to Y^\omega$ is well defined, since
$f$ is intrinsically continuous. 
Denote $\bar s_\omega$ the composition of $s_\omega$ with the nearest point projection $Y_\omega\to Y$.
Clearly, $\bar s_\omega\in \mathcal{S}(f)$.

We claim that $\bar s_\omega$
is a lower bound for $\mathcal{O}$. 
Let $\gamma$ be a path in $X$ and $s_0$ an element in $\mathcal{O}$. 
For a partition $x_0,\ldots,x_k$
of $\gamma$ we have
\begin{align*}
\sum_{j=0}^k|\bar s_\omega(x_j)-\bar s_\omega(x_{j+1})|&=\omega\lim_{\mathcal{O}}\sum_{j=0}^k|s(x_j)-s(x_{j+1})|\leq 
\\
&\leq \omega\lim_{\mathcal{O}}\length(s\circ\gamma)\leq \length(s_0\circ\gamma),
\end{align*}
where we identified points in $X_\omega$ with constant nets in $X$. The last inequality follows from the fact that the subset $\{s\succcurlyeq s_0\}\subset \mathcal{O}$
is not in $\omega$. Consequently $\length(s_\omega\circ\gamma)\leq \length(s_0\circ\gamma)$ and $\bar s_\omega$
is a lower bound for $\mathcal{O}$. By Zorn's lemma we obtain a minimal element $s_{min}$ for $\mathcal{S}(f)$.
\qeds





\section{Harmonic discs}\label{Harmonic discs}

Let us review some definitions and properties from Sobolev space theory in metric spaces as developed in 
\cite{KS},\cite{R}, \cite{HKST} and \cite{LW}. 
For more details we refer the reader to these articles.

Denote by  $\DD^\circ$ the interior of $\DD$ and fix a complete metric space $X$.
Following Reshetnyak (\cite{R}), we say that a map $u\:\DD^\circ\to X$ has {\em finite energy}, or lies in the Sobolev space $W^{1,2}(\DD^\circ,X)$ if
\begin{itemize}
 \item $u$ is measureable and has essentially separable image. %???essentially, that is... ???
 \item There exists $g\in L^2(\DD^\circ,\RR)$ such that the composition $f\circ u$ with any short map $f\:X\to \mathbb{R}$ 
lies in the classical Sobolev space $W^{1,2}(\DD^\circ)$
 and the norm of the weak gradient $|\nabla(f\circ u)|$ is almost everywhere bounded by $g$.
\end{itemize}

If $u$ lies in the Sobolev space $W^{1,2}(\DD^\circ,X)$ then its energy 
\[E(u)=
\int\limits_{\DD^\circ}\left(\frac{1}{\pi}\cdot\int_{\mathbb{S}^1}\left|(d_zu)(v)\right|^2\cdot d_v\length\right)\cdot d_z\area\]
is finite. 
Here $d_zu$ denotes the approximate metric differential of $u$ at $z$. (See \cite{LW}.)
Note that in the case of a Riemannian manifold $X$ the energy as define above is equal to
the classical Dirichlet energy up to a constant factor.
A map $u\in W^{1,2}(\DD^\circ,X)$ will be further called a \emph{Sobolev disc}.

Any Sobolev disc $u\:\DD^\circ\to X$ has a well defined trace $\operatorname{tr}(u)\in L^2(\partial\DD,X)$. 
(See \cite{KS} and \cite{LW}.)
If $u$ extends to a continuous map $\bar u$ on $\DD$, then $\operatorname{tr}(u)$ is represented by $\bar u|_{\partial\DD}$. 
We say that a circle $\gamma\:\partial\DD\to X$ is {\em spanned by} a Sobolev disc $u$, if $\gamma=\operatorname{tr}(u)$ is in 
$L^2(\partial\DD,X)$.

The following theorem was proved by Korevaar and Schoen,
see \cite[theorems 2.2 and 2.4.6]{KS}. 
It generalizes earlier results by Hamilton, Gromov and Schoen  \cite{H,GS}.

\begin{thm}{Dirichlet problem}\label{thm:dirichlet}
Let $\gamma$ be a circle in a $\CAT[0]$ space $X$ which can be spanned by a Sobolev disc. 
Then there is a unique energy minimizing disc $u$ which spans $\gamma$; 
that is, $u$
has the least energy among all Sobolev discs spanning $\gamma$. 
The energy minimizer $u$ is locally Lipschitz continuous in the interior of $\DD$.

Moreover, the local Lipschitz constant of $u$ depends only on the energy of $u$ and the distance to the boundary.
\end{thm}

An energy minimizing disc will be further called \emph{harmonic disc}.

Note that the energy is nonincreasing under composition with a map which nonincrease intrinisic metric.
Therefore by the uniqueness in Theorem \ref{thm:dirichlet} we get the following.

\begin{thm}{Proposition}\label{prop:harmonic}
Let $X$ be a $\CAT[0]$ space 
and $u\:\DD\to X$ a harmonic disc.
Then $u$ is continuous and metric minimizing relative $\partial\DD$.
\end{thm}

This proposition can be generalizes to other convex energy functionals which are monotonic in the metric differentials.
For example the energy considered in Section~\ref{sec:smooth}.

\section{Smooth surfaces}\label{sec:smooth}

In this section we show that any strictly saddle surface is locally metric minimizing.
So in particular, the metric minimizing surfaces do generalize strictly saddle surfaces.

\begin{thm}{Proposition}\label{prop:smooth}
Any smooth strictly saddle surface in $\RR^3$ is locally metric minimizing.
\end{thm}

\begin{wrapfigure}{r}{20 mm}
\begin{lpic}[t(-5 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/not-sufficient-surface(1)}
%\lbl[lb]{12.5,11;$W_0$}}
\end{lpic}
\end{wrapfigure}

In general smooth saddle surfaces may not be globally metric minimizing.
An example homeomorphic to a pair of pants 
can be found among surfaces surrounding the triangle with three segments as shown on the picture.
We could not find examples like that among strictly saddle surfaces or discs, but it is very likely that such examples do exist.

\medskip

Let $s\:\DD\to\RR^3$ be a smooth map.

Fix an array of vector fields $\bm{v}=(v_1,\dots,v_k)$ in $\DD$. 
Consider the energy functional 
\[E_{\bm{v}}s
\df
\sum_i\int\limits_\DD |v_is|^2\cdot d_x\area.\]
Set 
\[\Delta_{\bm{v}}s=\sum_iv_i(v_is).\]
It is convenient to think of the operator $s\mapsto \Delta_{\bm{v}}s$
as an analog of the Laplacian.

Note that 
\begin{enumerate}[(i)]
\item $E_{\bm{v}}$ is well defined for any Lipschitz map $s$.
\item $E_{\bm{v}}$ is convex, that is
\[E_{\bm{v}}[t\cdot s_1+(1-t)\cdot s_2]
\le 
t\cdot E_{\bm{v}} s_1+(1-t)\cdot E_{\bm{v}} s_2.\]
\item If $s$ is a smooth $E_{\bm{v}}$-minimizing map in the class of Lipschitz maps with given boundary data then $s$ is metric minimizing.
\item A smooth map $s\:\DD\to\RR^3$ is a $E_{\bm{v}}$-minimizing map among the class of Lipschitz maps with given boundary if and only if
\[\Delta_{\bm{v}}s=0.\]

\end{enumerate}

The discussion above reduces the Proposition above to the following.

\begin{thm}{Claim}
Assume $s\:\DD\to \RR^3$ is a smooth strictly saddle surface. 
Then for any interior point $p\in\DD$ there is an array of 4 vector fields $\bm{v}=(v_1,v_2,v_3,v_4)$ such that the equation \[\Delta_{\bm{v}}s=0\eqlbl{eq:laplasian}\]
holds in an open neighborhood of $p$.
\end{thm}

\parit{Proof.}
Denote 
by $\kappa_1,\kappa_2$ the principal curvatures,
and by $e_1,e_2$ the corresponding unit principal vectors. 
Further, denote by by $a_1,a_2$ a pair of asymptotic vectors; we can assume that $a_1,a_2$ form coordinate vector fields in a neighborhood of $x$.


Set $v_1=\tfrac 1{\sqrt{|\kappa_1|}}\cdot e_1$ and $v_2=\tfrac 1{\sqrt{|\kappa_2|}}\cdot e_2$. 
It remains to show that one can choose smooth functions  $\lambda_1$ and $\lambda_2$ 
so that \ref{eq:laplasian}
holds in a neighborhood of $x$ for $v_3=\lambda_1\cdot a_1$ and $v_4=\lambda_1\cdot a_1$.

Note that the sum $v_1(v_1s)+v_2(v_2s)$ has vanishing normal part.
That is \[v_1(v_1s)+v_2(v_2s)\] is a tangent vector to the surface.

Since the $a_i$ are asymptotic,
the vectors $a_1(a_1s)$ and $a_2(a_2s)$ have vanishing normal part.
Therefore, for any choice of $\lambda_i$,
the following two vectors are also tangent
\begin{align*}
v_3(v_3s)&=\lambda_1^2\cdot a_1(a_1s)+\tfrac12\cdot a_1\lambda_1^2\cdot a_1s
\\
v_4(v_4s)&=\lambda_2^2\cdot a_2(a_2s)+\tfrac12\cdot a_2\lambda_2^2\cdot a_2s.
\end{align*}

Set $w=(\lambda_1^2,\lambda_2^2)$.
Note that the system \ref{eq:laplasian} can be rewritten as 
\[\left(\begin{smallmatrix}
   1&0\\0&0
  \end{smallmatrix}\right)
w_x
+
\left(\begin{smallmatrix}
   0&0\\0&1
  \end{smallmatrix}\right)
w_y=h(x,y,w),\]
where $h\:\RR^3\to\RR^2$ is a smooth function.

Change coordinate system, by setting $x=t+z$ and $y=t-z$.
Then the system takes the form 
\[w_t+\left(\begin{smallmatrix}
   1&0\\0&-1
  \end{smallmatrix}\right)
w_z=h(t+z,t-z,w)\]

This system is ???,
according to \cite[Theorem 3.6]{bressan}, it can be solved locally for smooth initial data at $t=0$.

It remains to choose $v_3$ and $v_4$ for solution so that $\lambda_1, \lambda_2>0$ in a small neighborhood of $p$.
\qeds


\section{Final remarks}\label{Final remarks}


\parbf{Smooth metric minimizing surfaces.}
At the moment we do not see any way to show that a given surface is metric minimizing except by constructing an appropriate energy for which it is energy minimizing, as we did in Section~\ref{sec:smooth}.
Calculations show that generic smooth saddle surfaces in $\RR^4$ are not energy minimizing for any energy.

We expect that generic smooth saddle surfaces in $\RR^4$ are not metric minimizing; that is arbitrary small neighborhoods of any point admit deformations which shrink 
the intrinsic metric and keep the boundary fixed.




\begin{thebibliography}{52}

\bibitem{A} Alexandrov, A. D. ``Ruled  surfaces  in  metric  spaces,'' Vestnik Leningrad. Univ., 12:5-26, 1957 (Russian).

\bibitem{bressan} Bressan, A.
``Hyperbolic systems of conservation laws.
The one-dimensional Cauchy problem.'' 
Oxford Lecture Series in Mathematics and its Applications, 20. 
Oxford University Press, Oxford, 2000. 
xii+250 pp.

\bibitem{BBI}Burago, D.; Burago, Y.; Ivanov, S.
A course in metric geometry.
Graduate Studies in Mathematics, 33. American Mathematical Society, Providence, RI, 2001. xiv+415 pp.

\bibitem{GS} Gromov, Mikhail, and Richard Schoen. "Harmonic maps into singular spaces and p-adic superrigidity for lattices in groups of rank one." Publications Mathématiques de l'IHÉS 76.1 (1992): 165-246.

\bibitem{H} Hamilton, R. S. ``Harmonic Maps of Manifolds with Boundary,'' Lecture Notes in Mathematics, Springer, 1975, ISBN 978-3-540-37530-2.

\bibitem{HKST} Heinonen, J.;  Koskela, P.;  Shanmugalinga, N.; Tyson, J. ``Sobolev spaces on metric measure spaces,''
volume 27 of New Mathematical Monographs. Cambridge University Press, Cambridge, 2015.

\bibitem{KS}Korevaar, N. J.; Schoen, R. M. ``Sobolev spaces and harmonic maps for metric space targets,'' Comm. Anal. Geom., 1(3-4):561-659, 1993.

\bibitem{LSW} Lytchak, A.; Stadler, S.; Wenger, S.  ``On conformal changes of CAT(0) spaces'', in preparation.

\bibitem{LW}Lytchak, A.; Wenger, S. ``Area minimizing discs in metric spaces,'' preprint arXiv:1502.06571, 2015.

\bibitem{LW2}Lytchak, A.; Wenger, S. ``Energy and area minimizers in metric spaces,'' preprint  arXiv:1507.02670, 2015.

\bibitem{LW3}Lytchak, A.; Wenger, S. ``Intrinsic structure of minimal discs in metric spaces ,'' preprint  arXiv:1602.06755, 2016.

\bibitem{LW4}Lytchak, A.; Wenger, S. ``Regularity of harmonic discs in spaces with quadratic isoperimetric inequality  ,'' preprint  arXiv:1512.01060, 2016.

\bibitem{moore}
Moore, R. L.,
``Concerning upper semi-continuous collections of continua,''
Trans. Amer. Math. Soc. 27 no. 4 (1925) pp. 416--428.

\bibitem{petrunin-metric-min} Petrunin, A.
``Metric minimizing surfaces.''
Electron. Res. Announc. Amer. Math. Soc. 5 (1999), 47--54 

\bibitem{petrunin-intrinisic} Petrunin, A.
``Intrinsic isometries in Euclidean space.''
St. Petersburg Math. J. 22 (2011), no. 5, 803--812 

\bibitem{petrunin-orthodox} Petrunin, A. 
``Exercises in Orthodox Geometry''
{\tt arXiv:0906.0290 [math.HO]}

\bibitem{R}Reshetnyak, Yu. G. ``Sobolev classes of functions with values in a metric space,'' II, Sibirsk. Mat. Zh. 45 (2004), no. 4, 855-870. MR 2091651 (2005e:46055)

\bibitem{Se} Serbinowski,  T. ``Boundary regularity of harmonic maps to nonpositively curved metric spaces,''
Comm. Anal. Geom. , 2(1):139-153, 1994.

\bibitem{S}Schoen, R. ``Analytic Aspects of The Harmonic Map Problem'' Chapter IX in  
``Lectures on harmonic maps'' by Schoen, R.; Yau, S. T.,  
Conference Proceedings and Lecture Notes in Geometry and Topology, II. International Press, Cambridge, MA, 1997. vi+394 pp. ISBN: 1-57146-002-0

\bibitem{shefel-2D} 
\begin{otherlanguage}{russian}
Шефель, С. З.,
\textit{О седловых поверхностях ограниченной спрямляемой кривой.}
Доклады АН СССР, 162 (1965) №2, 
294---296.
\end{otherlanguage}
%\v{S}efel', S.,
%\textit{On saddle surfaces bounded by a rectifiable curve,} 
%Dokl. Akad. Nauk SSSR 
%162 
%(1965), 
%294--296.

\bibitem{shefel-3D} 
\begin{otherlanguage}{russian}
Шефель, С. З., 
\textit{О внутренней геометрии седловых поверхностей.}
Сибирский математический журнал, 5 (1964), 1382---1396
\end{otherlanguage}
%\v{S}efel', S., 
%\textit{On the intrinsic geometry of saddle surfaces,} Sibirsk. Mat. \v{Z}. 
%5 
%(1964), 
%1382--1396

\bibitem{St} Stadler, S. ``Harmonic discs in CAT(0) spaces'', in preparation.

%\bibitem{W1}Whyburn, G. T., ``On sequences and limiting sets,'' Fund. Math. vol. 25 (1935) pp. 408-426.

%\bibitem{W2}Whyburn, G. T., ``Analytic topology,'' Amer. Math. Soc. Colloquium Publications, vol. 28, 1942.

%\bibitem{Wi}Wilder, R. L., ``Topology of Manifolds,'' American Mathematical Society Colloquium Publications, vol. 32. American Mathematical
%Society, New York, N. Y., 1949.
\end{thebibliography}


\end{document}