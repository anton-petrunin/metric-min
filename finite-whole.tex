\section{Finite-Whole Extension Lemma}\label{Finite-whole extension lemma}

The following lemma is an easy corollary of Tychonoff's theorem on products of compact topological spaces.

\begin{thm}{Finite-Whole Extension Lemma}\label{lem:finite-whole}
Suppose that $X$ is a set 
and $Y$ is a compact topological space.
Assume that for any finite set $F\subset X$ 
a nonempty set $\mathfrak{S}_F$ of maps  $F\to Y$ is given, such that
\begin{itemize}
\item $\mathfrak{S}_F$ is closed under pointwise convergence;
\item for any subset $F'\subset F$ and any map $h\in \mathfrak{S}_F$
the restriction $h|_{F'}$ belongs to $\mathfrak{S}_{F'}$. 
\end{itemize}

Then there is a map $h\: X\to Y$ such that $h|_F\in \mathfrak{S}_F$ for any finite set $F\subset X$.
\end{thm}

Note that if $X$ and $Y$ are metric spaces and $A$ is a subset in $X$
then one can take as $\mathfrak{S}_F$ short maps $F\to Y$ which coincide with a given short map $A\to Y$ on $A\cap F$.
This way we obtain the following corollary.
In a similar fashion, we will use the lemma in the proof of our main theorem.

\begin{thm}{Corollary}
Let $X$ and $Y$ be metric spaces, $A\subset X$ and $f\:A\to Y$ a short map.
Assume $Y$ is compact and for any finite set $F\subset X$ there is a short map $F\to Y$ which agrees with $f$ in $F\cap A$.
Then there is a short map $X\to Y$ which agrees with $f$ in $A$.
\end{thm}

\parit{Proof of the finite-whole extension lemma.}
Given a subset $A\subset X$,
a map $f\: A\to Y$ will be called \emph{good}
if for any finite set $F\subset X$
there is $h\in\mathfrak{S}_F$ which agrees with $f$ on the intersection $F\cap A$.

We can choose a good map $f$ of maximal domain;
that is, we can not enlarge the domain $A$ of $f$ by a single point while keeping it good.

So far $A$ might be empty, but we will show that $A=X$;
the latter implies the lemma.

Set
\[\mathfrak{S}_F'=\set{h\in \mathfrak{S}_F}{h(x)=f(x)\quad\text{for any}\quad x\in F\cap A}.\]
Note that  $\mathfrak{S}_F'$ satisfies all the assumption of the lemma.

Given a finite set $F\subset X$ and $x\in F$ consider the set
\[K(F,x)=\set{h(x)\in Y}{h\in \mathfrak{S}_F'}.\]

By assumption
\[K(F,x)\ne\emptyset\eqlbl{Kne0}\] for any finite set $F\subset X$ and $x\in F$.
Further, note that $K(F,x)$ is closed and
\[K(F',x)\supset K(F,x)\eqlbl{KinK}\]
for any other finite set $F'$ such that 
$x\in F'\subset F$.

Assume $A\ne X$; fix $x\in X\backslash A$.
Given $y\in Y$ there is a finite set $F\ni x$ such that $y\notin K(F,x)$.
Or equivalently the intersection of all $K(F,x)$ for all finite sets $F$ including $x$ is empty.

By finite intersection property, 
we can choose a finite collection of finite sets $F_1,\dots F_n$ containing $x$ such that 
\[K(F_1,x)\cap \dots\cap K(F_n,x)=\emptyset.\eqlbl{K(F,x)}\]

Since the union $F=F_1\cup\dots\cup F_n$ is finite, \ref{Kne0} and \ref{KinK}
imply
\[K(F_1,x)\cap \dots\cap K(F_n,x)\supset K(F,x)\ne \emptyset\]
which contradicts \ref{K(F,x)}.
\qeds
